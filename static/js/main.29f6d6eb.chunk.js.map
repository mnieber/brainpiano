{"version":3,"sources":["webpack:///./src/index.css?68b8","webpack:///./src/app/components/App.scss?2ba2","quiz/components/QuizFrame.scss","webpack:///./src/voicings/components/VoicingTitle.scss?abc6","groups/components/GroupsFrame.scss","groups/components/GroupsFrameTopPanel.scss","webpack:///./src/groups/components/GroupPicker.scss?5697","groups/components/GroupsFrameLeftPanel.scss","keyboard/components/ClefListView.scss","webpack:///./src/keyboard/components/ClefListViewItem.scss?7f46","webpack:///./src/io/components/IoMenu.scss?3647","quiz/components/QuizFrameTopPanel.scss","quiz/components/QuizFrame.tsx","utils/mathMod.ts","voicings/noteConstants.ts","keyboard/keyConstants.ts","quiz/utils/voicingTitleFromQuery.ts","voicings/components/VoicingTitle.tsx","groups/components/GroupsFrame.tsx","groups/components/GroupsFrameTopPanel.tsx","utils/components/ValuePicker.tsx","groups/components/GroupPicker.tsx","groups/components/GroupsFrameLeftPanel.tsx","utils/components/Effect.tsx","utils/RST.ts","utils/components/ResourceView.tsx","groups/components/LoadGroupsEffect.tsx","groups/components/SelectGroupEffect.tsx","voicings/utils/playChord.ts","voicings/components/InversionSelector.tsx","keyboard/components/ClefModulationSelector.tsx","keyboard/components/ClefSelector.tsx","keyboard/noteColours.ts","keyboard/utils/noteValueToColour.ts","keyboard/components/Marker.tsx","keyboard/components/Key.tsx","keyboard/components/Octave.tsx","voicings/components/RandomChordSelector.tsx","keyboard/components/Keyboard.tsx","keyboard/components/ClefListView.tsx","keyboard/components/ClefListViewItem.tsx","voicings/parse.ts","io/components/IoMenu.tsx","quiz/components/QuizFrameTopPanel.tsx","quiz/components/QuizView.tsx","utils/ids.ts","quiz/QuizState/policies/selectClefBasedOnPreselection.ts","utils/random.ts","voicings/utils/invertChord.ts","voicings/utils/voicingToChord.ts","quiz/utils/createQuery.ts","quiz/QuizState/facets/Inputs.ts","quiz/QuizState/facets/Outputs.ts","quiz/QuizState/index.ts","voicings/voicingGroups.ts","quiz/components/QuizStateProvider.tsx","app/components/UrlRouter.tsx","app/components/App.tsx","groups/GroupsStore.ts","keyboard/PreselectionStore.ts","voicings/VoicingStore.ts","keyboard/ClefStore.ts","app/policies/voicingStoreUsesSelectedClef.ts","app/AppStore.ts","app/components/StoreProvider.tsx","app/components/useStore.ts","reportWebVitals.ts","index.tsx","webpack:///./src/keyboard/components/Keyboard.css?49b5"],"names":["QuizFrame","observer","props","classnames","children","mathMod","m","p","isInteger","NaN","root","flat9","ninth","sharp9","flat3","third","fourth","eleventh","sharp4","sharp11","flat5","fifth","sharp5","flat6","flat13","sixth","thirteenth","flat7","seventh","noteNameByValue","valueByNoteName","nine","eleven","six","thirteen","seven","clefC","clefCSharp","clefCFlat","clefD","clefDSharp","clefDFlat","clefE","clefESharp","clefEFlat","clefF","clefFSharp","clefFFlat","clefG","clefGSharp","clefGFlat","clefA","clefASharp","clefAFlat","clefB","clefBSharp","clefBFlat","clefs","clefOffsets","clefLetters","whiteKeyIndexes","blackKeyIndexes","isWhiteKeyIndex","keyIndex","includes","nrOfNotesInOctave","octaveRootNoteValue","octaveIndex","noteValueToIndex","noteValue","voicingTitleFromQuery","query","noteIndex","inversion","voicing","chord","length","startNoteIdx","startNoteName","clef","name","VoicingTitle","label","GroupsFrame","GroupsFrameTopPanel","ValuePicker","isMulti","isCreatable","pickableValue","pickableValues","labelFromValue","others","toPickerValue","pickableVal","__isNew__","value","options","map","pickerProps","isNil","undefined","onKeyDown","e","picker","zIndex","GroupPicker","useDefaultProps","onChange","action","values","groupsSelection","ids","x","id","className","groups","items","GroupsFrameLeftPanel","EffectWithoutArgs","f","useDeepCompareEffect","cleanUpFunction","RESET","UPDATING","ERRORED","UPDATED","LOADING","resetRS","type","isResetRS","rs","updatingRS","updating_state","isUpdatingRS","erroredRS","message","isErroredRS","updatedRS","isUpdatedRS","loadingRS","updateRes","rsMap","update","then","getErrorMsg","result","catch","defaultRenderErrored","defaultRenderUpdating","ResourceView","renderErrored","renderUpdating","tryRenderUpdated","renderUpdated","catchAll","Error","renderReset","LoadGroupsEffect","useStore","groupsStore","loadGroups","SelectGroupEffect","AudioContext","window","webkitAudioContext","context","synth","AudioSynth","playChord","forEach","note","playNote","InversionSelector","voicingStore","key","setInversion","quizState","ClefModulationSelector","preselectionStore","setIsSharpening","setIsFlattening","reset","ClefSelector","setClefLetter","noteColours","noteValueToColour","harmonicColour","isStriped","endsWith","colour","split","Marker","filledStripeHeight","bgStripeHeight","nrOfStripes","Math","floor","height","flow","always","range","stripeIdx","nrBg","nrFilled","isFilled","y","fill","backgroundColour","width","whiteKeyProps","markerHeight","blackKeyProps","whiteKeyX","i","fraction","blackKeyX","getKeyX","isWhiteKey","keyX","keyIndexes","indexOf","Key","index","keyProps","offsetY","markerOffsetY","offsetX","markerColour","markerIsStriped","Octave","concat","keys","add","RandomChordSelector","pickRandomChord","Keyboard","clefStore","octaves","onClick","ClefListView","clefDivs","clefsSelection","selectItem","itemId","isShift","isCtrl","noItems","ClefListViewItem","onMouseDown","parseVoicing","data","console","log","parseVoicingGroup","voicings","cache","parseVoicingGroups","twitterUrl","IoMenu","eventKey","navigator","clipboard","writeText","JSON","stringify","open","readText","clipText","setGroups","parse","QuizFrameTopPanel","HelpButton","nextQuery","QuizView","React","useMemo","listToItemById","qsList","item","getIds","selectClefBasedOnPreselection","handler","event","topic","details","clefLetter","isSharpening","isFlattening","setClef","signal","remove","randomElement","random","size","invertChord","pos","rotate","arr","maxNote","first","take","last","takeRight","rotateBack","minNote","times","constant","abs","getInversionRange","topC","minInversion","maxInversion","l","voicingToChord","rootNoteValue","keyOffset","getRandomInversion","L","inversionRange","filter","inversions","createQuery","nrVoicings","sumBy","voicingIdx","groupIdx","count","group","Inputs","input","Outputs","groupsDisplay","output","computed","QuizState","selection","Selection","highlight","Highlight","registerFacets","makeObservable","_setClefsCallbacks","_applyClefsPolicies","makeCtrObservable","_setGroupsCallbacks","_applyGroupsPolicies","cuf","Policies","addCleanUpFunctionToCtr","ctr","setCallbacks","handleSelectItem","selectionParams","FacetPolicies","Inputs_items","Outputs_display","policies","mapDataToFacet","getm","Facets","installPolicies","Outputs_itemById","cleanUpCtr","inputs","setVoicing","observable","facet","voicingGroups","QuizStateProvider","createState","state","setClefs","updateState","reaction","fireImmediately","getDefaultProps","outputs","clefsDisplay","clefsHighlight","groupsHighlight","destroy","history","createBrowserHistory","UrlRouter","App","GroupsStore","PreselectionStore","Signal","dispatch","cScale","VoicingStore","clamp","nrOfVoices","ClefStore","clefSharp","clefFlat","setClefSharp","setClefFlat","modulate","voicingStoreUsesSelectedClef","appStore","AppStore","applyPolicies","StoreContext","createContext","StoreProvider","store","useContext","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29f6d6eb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\n\nimport { QuizFrameTopPanel } from 'src/quiz/components';\n\nimport './QuizFrame.scss';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\nexport const QuizFrame: React.FC<PropsT> = observer((props: PropsT) => {\n  return (\n    <div\n      className={classnames('QuizFrame flex flex-col')}\n    >\n      <QuizFrameTopPanel/>\n      <div\n        className={classnames('QuizFrame__MidSection flex flex-row')}\n      >\n        \n        {props.children}\n        \n      </div>\n      \n    </div>\n  );\n});","import { isInteger } from 'lodash/fp';\n\nexport const mathMod = (m: number, p: number) => {\n  if (!isInteger(m)) {\n    return NaN;\n  }\n  if (!isInteger(p) || p < 1) {\n    return NaN;\n  }\n  return ((m % p) + p) % p;\n};\n","export const root = 0;\nexport const flat9 = 1;\nexport const ninth = 2;\nexport const sharp9 = 3;\nexport const flat3 = 3;\nexport const third = 4;\nexport const fourth = 5;\nexport const eleventh = 5;\nexport const sharp4 = 6;\nexport const sharp11 = 6;\nexport const flat5 = 6;\nexport const fifth = 7;\nexport const sharp5 = 8;\nexport const flat6 = 8;\nexport const flat13 = 8;\nexport const sixth = 9;\nexport const thirteenth = 9;\nexport const flat7 = 10;\nexport const seventh = 11;\n\nexport const noteNameByValue = {\n  '0': 'root',\n  '1': 'flat nine',\n  '2': 'nine',\n  '3': 'flat third',\n  '4': 'third',\n  '5': 'fourth/eleventh',\n  '6': 'tritone',\n  '7': 'fifth',\n  '8': 'flat thirteen',\n  '9': 'thirteenth',\n  '10': 'flat seven',\n  '11': 'seven',\n};\n\nexport const valueByNoteName = {\n  root: 0,\n  'flat nine': 1,\n  flat9: 1,\n  nine: 2,\n  ninth: 2,\n  'flat third': 3,\n  flat3: 3,\n  third: 4,\n  fourth: 5,\n  eleven: 5,\n  eleventh: 5,\n  sharp4: 6,\n  flat5: 6,\n  sharp11: 6,\n  'sharp fourth': 6,\n  'sharp eleventh': 6,\n  fifth: 7,\n  'flat thirteen': 8,\n  flat6: 8,\n  flat13: 8,\n  six: 9,\n  sixth: 9,\n  thirteen: 9,\n  thirteenth: 9,\n  flat7: 10,\n  'flat seven': 10,\n  seven: 11,\n  seventh: 11,\n};\n","import { includes } from 'lodash/fp';\nimport { mathMod } from 'src/utils/mathMod';\n\nexport const clefC = 'C';\nexport const clefCSharp = 'C#';\nexport const clefCFlat = 'Cb';\nexport const clefD = 'D';\nexport const clefDSharp = 'D#';\nexport const clefDFlat = 'Db';\nexport const clefE = 'E';\nexport const clefESharp = 'E#';\nexport const clefEFlat = 'Eb';\nexport const clefF = 'F';\nexport const clefFSharp = 'F#';\nexport const clefFFlat = 'Fb';\nexport const clefG = 'G';\nexport const clefGSharp = 'G#';\nexport const clefGFlat = 'Gb';\nexport const clefA = 'A';\nexport const clefASharp = 'A#';\nexport const clefAFlat = 'Ab';\nexport const clefB = 'B';\nexport const clefBSharp = 'B#';\nexport const clefBFlat = 'Bb';\n\nexport const clefs = [\n  'C',\n  'C#',\n  'D',\n  'Eb',\n  'E',\n  'F',\n  'F#',\n  'G',\n  'Ab',\n  'A',\n  'Bb',\n  'B',\n];\n\nexport const clefOffsets: { [key: string]: number } = {\n  [clefCFlat]: 11,\n  [clefC]: 0,\n  [clefCSharp]: 1,\n  [clefDFlat]: 1,\n  [clefD]: 2,\n  [clefDSharp]: 3,\n  [clefEFlat]: 3,\n  [clefE]: 4,\n  [clefESharp]: 5,\n  [clefFFlat]: 4,\n  [clefF]: 5,\n  [clefFSharp]: 6,\n  [clefGFlat]: 6,\n  [clefG]: 7,\n  [clefGSharp]: 8,\n  [clefAFlat]: 8,\n  [clefA]: 9,\n  [clefASharp]: 10,\n  [clefBFlat]: 10,\n  [clefB]: 11,\n  [clefBSharp]: 0,\n};\n\nexport const clefLetters = [clefC, clefD, clefE, clefF, clefG, clefA, clefB];\n\nexport const whiteKeyIndexes = [0, 2, 4, 5, 7, 9, 11];\nexport const blackKeyIndexes = [1, 3, 6, 8, 10];\n\nexport const isWhiteKeyIndex = (keyIndex: number) =>\n  includes(keyIndex, whiteKeyIndexes);\n\nexport const nrOfNotesInOctave = 12;\nexport const octaveRootNoteValue = (octaveIndex: number) =>\n  octaveIndex * nrOfNotesInOctave;\nexport const noteValueToIndex = (noteValue: number) =>\n  mathMod(noteValue, nrOfNotesInOctave);\n","import { QueryT } from 'src/quiz/types';\nimport { mathMod } from 'src/utils/mathMod';\nimport { noteNameByValue } from 'src/voicings/noteConstants';\nimport { noteValueToIndex, clefOffsets } from 'src/keyboard/keyConstants';\n\nexport const voicingTitleFromQuery = (query: QueryT) => {\n  const noteIndex = mathMod(query.inversion, query.voicing.chord.length);\n  const startNoteIdx = noteValueToIndex(query.voicing.chord[noteIndex]);\n  const startNoteName = (noteNameByValue as any)[startNoteIdx];\n\n  return `${query.clef} ${query.voicing.name} from ` + `${startNoteName}`;\n};\n","import { observer } from 'mobx-react-lite';\nimport 'src/keyboard/components/Keyboard.css';\nimport { voicingTitleFromQuery } from 'src/quiz/utils/voicingTitleFromQuery';\nimport { QueryT } from 'src/quiz/types';\n\nimport './VoicingTitle.scss';\n\ntype PropsT = {\n  query?: QueryT;\n  label?: string;\n};\n\nexport const VoicingTitle = observer((props: PropsT) => {\n  return (\n    <div className=\"VoicingTitle\">\n      {(props.label ?? '') +\n        (props.query ? voicingTitleFromQuery(props.query) : '')}\n    </div>\n  );\n});\n","import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\n\nimport { GroupsFrameTopPanel } from 'src/groups/components';\nimport { GroupsFrameLeftPanel } from 'src/groups/components';\n\nimport './GroupsFrame.scss';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\nexport const GroupsFrame: React.FC<PropsT> = observer((props: PropsT) => {\n  return (\n    <div\n      className={classnames('GroupsFrame flex flex-col')}\n    >\n      <GroupsFrameTopPanel/>\n      <div\n        className={classnames('GroupsFrame__MidSection flex flex-row')}\n      >\n        <GroupsFrameLeftPanel/>\n        {props.children}\n        \n      </div>\n      \n    </div>\n  );\n});","import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\n\nimport './GroupsFrameTopPanel.scss';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\nexport const GroupsFrameTopPanel: React.FC<PropsT> = observer(() => {\n  return (\n    <div\n      className={classnames('GroupsFrameTopPanel')}\n    >\n    </div>\n  );\n});","import Select from 'react-select';\nimport CreatableSelect from 'react-select/creatable';\nimport { isNil } from 'lodash/fp';\nimport { observer } from 'mobx-react-lite';\n\nexport interface PickerValueT {\n  value: any;\n  label: string;\n  __isNew__?: boolean;\n}\n\ntype PropsT<ValueT> = {\n  isMulti: boolean;\n  isCreatable: boolean;\n  pickableValues: ValueT[];\n  pickableValue: ValueT;\n  labelFromValue: (value: any) => string;\n  [k: string]: any;\n};\n\nexport const ValuePicker = observer(\n  <ValueT, ConcretePropsT extends PropsT<ValueT>>(\n    props: ConcretePropsT\n  ): JSX.Element => {\n    const {\n      isMulti,\n      isCreatable,\n      pickableValue,\n      pickableValues,\n      labelFromValue,\n      ...others\n    } = props;\n\n    const toPickerValue = (pickableVal: any) => {\n      return pickableVal.__isNew__\n        ? pickableVal\n        : {\n            value: pickableVal,\n            label: labelFromValue(pickableVal),\n          };\n    };\n\n    const options = pickableValues.map(toPickerValue);\n\n    const pickerProps = {\n      isMulti: isMulti,\n      options,\n      value: isNil(pickableValue)\n        ? undefined\n        : isMulti\n        ? (pickableValue as any).map(toPickerValue)\n        : toPickerValue(pickableValue),\n      onKeyDown: (e: any) => {\n        if (others.onKeyDown) {\n          others.onKeyDown(e);\n        }\n      },\n      ...others,\n    };\n\n    const picker = isCreatable ? (\n      <CreatableSelect {...pickerProps} />\n    ) : (\n      <Select {...pickerProps} />\n    );\n\n    return <div style={{ zIndex: others.zIndex }}>{picker}</div>;\n  }\n);\n","import classnames from 'classnames';\nimport { action } from 'mobx';\nimport { observer } from 'mobx-react-lite';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport { Selection } from 'skandha-facets/Selection';\n\nimport { PickerValueT, ValuePicker } from 'src/utils/components/ValuePicker';\nimport { GroupT } from 'src/groups/types';\n\nimport './GroupPicker.scss';\n\ntype PropsT = {\n  className?: any;\n};\n\ntype DefaultPropsT = {\n  groups: GroupT[];\n  groupsSelection: Selection;\n};\n\nexport const GroupPicker: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {\n  const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n  const onChange = action((value: PickerValueT) => {\n    const values: Array<any> = (value as any) ?? [];\n    props.groupsSelection.ids = values.map((x) => x.value.id);\n  });\n\n  return (\n    <div className={classnames('GroupPicker', props.className)}>\n      <ValuePicker\n        isMulti={true}\n        isCreatable={false}\n        pickableValues={props.groups}\n        labelFromValue={(x: any) => x.name}\n        pickableValue={props.groupsSelection.items}\n        onChange={onChange}\n      />\n    </div>\n  );\n});\n","import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\n\nimport './GroupsFrameLeftPanel.scss';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\nexport const GroupsFrameLeftPanel: React.FC<PropsT> = observer(() => {\n  return (\n    <div\n      className={classnames('GroupsFrameLeftPanel')}\n    >\n    </div>\n  );\n});","import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport useDeepCompareEffect from 'use-deep-compare-effect';\n\ntype EffectWithoutArgsPropsT = {\n  f: () => void;\n};\n\nexport const EffectWithoutArgs: (\n  props: EffectWithoutArgsPropsT\n) => React.ReactElement = observer(({ f }) => {\n  useDeepCompareEffect(() => {\n    const cleanUpFunction = f();\n    return cleanUpFunction;\n  }, [f]);\n  return <React.Fragment />;\n});\n","import { action } from \"mobx\";\n\nconst RESET = \"RESET\";\nconst UPDATING = \"UPDATING\";\nconst ERRORED = \"ERRORED\";\nconst UPDATED = \"UPDATED\";\nconst LOADING = \"LOADING\";\n\nexport type ResetRST = {\n  type: typeof RESET;\n};\n\nexport const resetRS = (): ResetRST => ({ type: RESET });\n\nexport const isResetRS = <UpdatingT>(rs: RST<UpdatingT>): rs is ResetRST =>\n  rs.type === RESET;\n\nexport type UpdatingRST<UpdatingT> = {\n  type: typeof UPDATING;\n  updating_state: UpdatingT;\n};\n\nexport const updatingRS = <UpdatingT>(\n  updating_state: UpdatingT\n): UpdatingRST<UpdatingT> => ({\n  type: UPDATING,\n  updating_state,\n});\n\nexport const isUpdatingRS = <UpdatingT>(\n  rs: RST<UpdatingT>\n): rs is UpdatingRST<UpdatingT> => rs.type === UPDATING;\n\nexport type ErroredRST = {\n  type: typeof ERRORED;\n  message: string;\n};\n\nexport const erroredRS = (message: string): ErroredRST => ({\n  type: ERRORED,\n  message,\n});\n\nexport const isErroredRS = <UpdatingT>(rs: RST<UpdatingT>): rs is ErroredRST =>\n  rs.type === ERRORED;\n\nexport type UpdatedRST = {\n  type: typeof UPDATED;\n};\n\nexport const updatedRS = (): UpdatedRST => ({\n  type: UPDATED,\n});\n\nexport const isUpdatedRS = <UpdatingT>(rs: RST<UpdatingT>): rs is UpdatedRST =>\n  rs.type === UPDATED;\n\nexport type LoadingT = {\n  type: typeof LOADING;\n};\n\nexport const loadingRS = (): UpdatingRST<LoadingT> =>\n  updatingRS({\n    type: LOADING,\n  });\n\nexport type RST<UpdatingT = LoadingT> =\n  | ResetRST\n  | UpdatingRST<UpdatingT>\n  | ErroredRST\n  | UpdatedRST;\n\nexport const updateRes = action(\n  (\n    rsMap: { [k: string]: any },\n    id: string,\n    update: Function,\n    then: Function,\n    getErrorMsg?: Function\n  ) => {\n    rsMap[id] = loadingRS();\n    return update()\n      .then(\n        action((result: any) => {\n          then(result);\n          rsMap[id] = updatedRS();\n        })\n      )\n      .catch(\n        action((e: any) => {\n          rsMap[id] = erroredRS(\n            getErrorMsg ? getErrorMsg(e) : `Could not load ${id}`\n          );\n        })\n      );\n  }\n);\n","import React from 'react';\nimport { observer } from 'mobx-react-lite';\n\nimport {\n  RST,\n  isResetRS,\n  isUpdatingRS,\n  isUpdatedRS,\n  isErroredRS,\n} from 'src/utils/RST';\n\ntype PropsT<UpdatingT> = {\n  rs: RST<UpdatingT>;\n  renderUpdated: () => JSX.Element;\n  renderUpdating?: (updating_state: UpdatingT) => JSX.Element;\n  renderErrored?: (message: string) => JSX.Element;\n};\n\n// TODO better default renders\nconst defaultRenderErrored = (message: string) => {\n  return <div>Error{message !== undefined && `: ${message}`}</div>;\n};\nconst defaultRenderUpdating = () => {\n  return <div>Loading...</div>;\n};\n\nexport const ResourceView = observer(\n  <UpdatingT,>(props: PropsT<UpdatingT>): JSX.Element => {\n    const renderErrored = props.renderErrored ?? defaultRenderErrored;\n    const renderUpdating = props.renderUpdating ?? defaultRenderUpdating;\n\n    const tryRenderUpdated = () => {\n      try {\n        const result = props.renderUpdated();\n        return result;\n      } catch (e) {\n        return renderErrored(e.message);\n      }\n    };\n\n    const catchAll = () => {\n      throw Error(`Received unrecognized resource state ${props.rs}`);\n    };\n\n    const renderReset = () => {\n      return <React.Fragment />;\n    };\n\n    return isUpdatedRS(props.rs)\n      ? tryRenderUpdated()\n      : isErroredRS(props.rs)\n      ? renderErrored(props.rs.message)\n      : isUpdatingRS(props.rs)\n      ? renderUpdating(props.rs.updating_state)\n      : isResetRS(props.rs)\n      ? renderReset()\n      : catchAll();\n  }\n);\n","import React from 'react';\n\nimport { EffectWithoutArgs } from 'src/utils/components';\nimport { useStore } from 'src/app/components';\n\ntype PropsT = {};\n\nexport const LoadGroupsEffect: React.FC<PropsT> = (p: PropsT) => {\n  const { groupsStore } = useStore();\n  return (\n    <EffectWithoutArgs\n      f={() => {\n        groupsStore.loadGroups();\n      }}\n    />\n  );\n};","import React from 'react';\n\nimport { EffectWithoutArgs } from 'src/utils/components';\n\ntype PropsT = {};\n\nexport const SelectGroupEffect: React.FC<PropsT> = (p: PropsT) => {\n  return (\n    <EffectWithoutArgs\n      f={() => {\n      }}\n    />\n  );\n};","import { ChordT } from 'src/voicings/types';\nimport { ClefT } from 'src/keyboard/types';\nimport AudioSynth from 'audiosynth';\nimport { forEach } from 'lodash/fp';\nimport { clefOffsets } from 'src/keyboard/keyConstants';\n\nvar AudioContext = window.AudioContext || (window as any).webkitAudioContext;\n\nvar context = new AudioContext();\nvar synth = new AudioSynth(context);\n\nexport const playChord = (chord: ChordT, clef: ClefT) => {\n  forEach((note) => synth.playNote(note + 48, 1.0, 1.0, 0), chord);\n  synth.playNote(clefOffsets[clef] + 36, 1.0, 1.0, 0);\n};\n","import { useDefaultProps, FC } from 'react-default-props-context';\nimport { observer } from 'mobx-react-lite';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { useStore } from 'src/app/components';\nimport { playChord } from 'src/voicings/utils/playChord';\nimport { QuizState } from 'src/quiz/QuizState';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\ntype DefaultPropsT = {\n  quizState: QuizState;\n};\n\nexport const InversionSelector: FC<PropsT, DefaultPropsT> = observer(\n  (p: PropsT) => {\n    const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n    const { voicingStore } = useStore();\n    return (\n      <KeyboardEventHandler\n        handleKeys={['ctrl+left', 'ctrl+right']}\n        onKeyEvent={(key: string, e: any) => {\n          if (key === 'ctrl+right') {\n            voicingStore.setInversion(voicingStore.inversion + 1);\n            if (props.quizState.query) {\n              props.quizState.query.inversion = voicingStore.inversion;\n            }\n          }\n          if (key === 'ctrl+left') {\n            voicingStore.setInversion(voicingStore.inversion - 1);\n            if (props.quizState.query) {\n              props.quizState.query.inversion = voicingStore.inversion;\n            }\n          }\n        }}\n      >\n        <KeyboardEventHandler\n          handleKeys={['p']}\n          onKeyEvent={(key: string, e: any) => {\n            playChord(voicingStore.chord, voicingStore.clef);\n          }}\n        >\n          {props.children}\n        </KeyboardEventHandler>\n      </KeyboardEventHandler>\n    );\n  }\n);\n","import { observer } from 'mobx-react-lite';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { useStore } from 'src/app/components';\n\nexport const ClefModulationSelector = observer(({ children }) => {\n  const { preselectionStore } = useStore();\n\n  return (\n    <KeyboardEventHandler\n      handleKeys={['up', 'down']}\n      handleEventType=\"keydown\"\n      onKeyEvent={(key: string, e: any) => {\n        preselectionStore.setIsSharpening(key === 'up');\n        preselectionStore.setIsFlattening(key === 'down');\n      }}\n    >\n      <KeyboardEventHandler\n        handleKeys={['up', 'down']}\n        handleEventType=\"keyup\"\n        onKeyEvent={(key: string, e: any) => {\n          preselectionStore.reset();\n        }}\n      >\n        {children}\n      </KeyboardEventHandler>\n    </KeyboardEventHandler>\n  );\n});\n","import { observer } from 'mobx-react-lite';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { useStore } from 'src/app/components';\nimport { clefLetters } from 'src/keyboard/keyConstants';\n\nexport const ClefSelector = observer(({ children }) => {\n  const { preselectionStore } = useStore();\n\n  return (\n    <KeyboardEventHandler\n      handleKeys={clefLetters}\n      handleEventType=\"keydown\"\n      onKeyEvent={(key: string, e: any) => {\n        preselectionStore.setClefLetter(key);\n      }}\n    >\n      <KeyboardEventHandler\n        handleKeys={clefLetters}\n        handleEventType=\"keyup\"\n        onKeyEvent={(key: string, e: any) => {\n          preselectionStore.reset();\n        }}\n      >\n        {children}\n      </KeyboardEventHandler>\n    </KeyboardEventHandler>\n  );\n});\n","export const noteColours: { [key: number]: string } = {\n  0: '#aaaaaa',\n  1: '#fa9835-striped',\n  2: '#fa9835', // orange\n  3: '#40d530-striped',\n  4: '#40d530', // green\n  5: '#fee449', // yellow\n  6: '#f53311-striped',\n  7: '#f53311', // red\n  8: '#38baf2-striped',\n  9: '#38baf2', // blue\n  10: '#ff99ff-striped',\n  11: '#ff99ff', // violet\n};\n","import { includes, split } from 'lodash/fp';\n\nimport { noteColours } from 'src/keyboard/noteColours';\nimport { noteValueToIndex, clefOffsets } from 'src/keyboard/keyConstants';\nimport { ChordT, NoteT } from 'src/voicings/types';\n\nexport function noteValueToColour(\n  noteValue: NoteT,\n  clef: string,\n  chord: ChordT\n) {\n  const harmonicColour = includes(noteValue, chord)\n    ? noteColours[noteValueToIndex(noteValue - clefOffsets[clef])]\n    : undefined;\n\n  const isStriped = !!(harmonicColour && harmonicColour.endsWith('-striped'));\n  const colour = isStriped\n    ? split('-striped', harmonicColour)[0]\n    : harmonicColour;\n\n  return { colour, isStriped };\n}\n","import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { always, map, flow, range } from 'lodash/fp';\nimport { Rect } from 'react-konva';\n\ntype PropsT = {\n  x: number;\n  y: number;\n  height: number;\n  width: number;\n  fill: any;\n  backgroundColour: any;\n  isStriped: boolean;\n};\n\nexport const Marker: React.FC<PropsT> = observer((props: PropsT) => {\n  const filledStripeHeight = 5;\n  const bgStripeHeight = 3.5;\n  const nrOfStripes = Math.floor(\n    props.height / (0.5 * (filledStripeHeight + bgStripeHeight))\n  );\n\n  return props.isStriped\n    ? (flow(\n        always(range(0, nrOfStripes)),\n        map((stripeIdx) => {\n          const nrBg = Math.floor(stripeIdx / 2);\n          const nrFilled = stripeIdx - nrBg;\n          const isFilled = stripeIdx % 2 == 0;\n          const y =\n            props.y + nrFilled * filledStripeHeight + nrBg * bgStripeHeight;\n          const height = isFilled ? filledStripeHeight : bgStripeHeight;\n\n          return (\n            <Rect\n              key={stripeIdx}\n              x={props.x + 1}\n              y={y}\n              fill={isFilled ? props.fill : props.backgroundColour}\n              width={props.width - 2}\n              height={height}\n              strokeWidth={0}\n              opacity={1}\n            />\n          );\n        })\n      )() as any)\n    : ([\n        <Rect\n          key={0}\n          x={props.x + 1}\n          y={props.y}\n          fill={props.fill}\n          width={props.width - 2}\n          height={props.height}\n          strokeWidth={0}\n          opacity={1}\n        />,\n      ] as any);\n});\n","import { always, indexOf, map, flow, range } from 'lodash/fp';\nimport React from 'react';\nimport { Rect } from 'react-konva';\nimport { observer } from 'mobx-react-lite';\n\nimport {\n  blackKeyIndexes,\n  isWhiteKeyIndex,\n  whiteKeyIndexes,\n} from 'src/keyboard/keyConstants';\nimport { Marker } from 'src/keyboard/components/Marker';\n\nconst whiteKeyProps = {\n  width: 50,\n  height: 250,\n  fill: '#FFFFFF',\n  markerHeight: 56,\n};\n\nconst blackKeyProps = {\n  width: 25,\n  height: 160,\n  fill: '#444444',\n  markerHeight: 100,\n};\n\nconst whiteKeyX = flow(\n  always(range(0, 7)),\n  map((i) => i * whiteKeyProps.width)\n)();\n\nconst fraction = (x: number) => x * blackKeyProps.width;\nconst blackKeyX = [\n  whiteKeyX[1] - fraction(0.66),\n  whiteKeyX[2] - fraction(0.33),\n  whiteKeyX[4] - fraction(0.7),\n  whiteKeyX[5] - fraction(0.5),\n  whiteKeyX[6] - fraction(0.3),\n];\n\nconst getKeyX = (keyIndex: number) => {\n  const isWhiteKey = isWhiteKeyIndex(keyIndex);\n  const keyX = isWhiteKey ? whiteKeyX : blackKeyX;\n  const keyIndexes = isWhiteKey ? whiteKeyIndexes : blackKeyIndexes;\n  return keyX[indexOf(keyIndex, keyIndexes)];\n};\n\ntype PropsT = {\n  index: number;\n  octaveIndex: number;\n  markerColour?: string;\n  markerIsStriped: boolean;\n};\n\nexport const Key = observer((props: PropsT) => {\n  const isWhiteKey = isWhiteKeyIndex(props.index);\n  const keyProps = isWhiteKey ? whiteKeyProps : blackKeyProps;\n\n  const offsetY = 0;\n  const markerOffsetY = isWhiteKey ? 3 : 2;\n  const offsetX = props.octaveIndex * 7 * whiteKeyProps.width;\n\n  const x = offsetX + getKeyX(props.index);\n\n  return (\n    <React.Fragment>\n      <Rect\n        x={x}\n        y={offsetY}\n        fill={keyProps.fill}\n        stroke=\"#000000\"\n        opacity={1}\n        width={keyProps.width}\n        height={keyProps.height}\n      />\n      <Marker\n        x={x + 2}\n        y={offsetY + keyProps.height - keyProps.markerHeight - markerOffsetY}\n        height={keyProps.markerHeight}\n        width={keyProps.width - 4}\n        fill={props.markerColour}\n        isStriped={props.markerIsStriped}\n        backgroundColour={keyProps.fill}\n      />\n    </React.Fragment>\n  );\n});\n","import React from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { always, concat, map, flow, add } from 'lodash/fp';\nimport { Layer } from 'react-konva';\n\nimport {\n  blackKeyIndexes,\n  noteValueToIndex,\n  octaveRootNoteValue,\n  whiteKeyIndexes,\n} from 'src/keyboard/keyConstants';\nimport { noteValueToColour } from 'src/keyboard/utils/noteValueToColour';\nimport { Key } from 'src/keyboard/components/Key';\n\ntype PropsT = {\n  index: number;\n  clef: string;\n  chord: any;\n};\n\nexport const Octave = observer((props: PropsT) => {\n  const keyIndexes = concat(whiteKeyIndexes, blackKeyIndexes);\n  const keys = flow(\n    always(keyIndexes),\n    map(add(octaveRootNoteValue(props.index))),\n    map((noteValue) => {\n      const keyIndex = noteValueToIndex(noteValue);\n      const { colour, isStriped } = noteValueToColour(\n        noteValue,\n        props.clef,\n        props.chord\n      );\n      return (\n        <Key\n          key={noteValue}\n          index={keyIndex}\n          octaveIndex={props.index}\n          markerColour={colour}\n          markerIsStriped={isStriped}\n        />\n      );\n    })\n  )();\n  return <Layer>{keys}</Layer>;\n});\n","import { observer } from 'mobx-react-lite';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport { QuizState } from 'src/quiz/QuizState';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\ntype DefaultPropsT = {\n  quizState: QuizState;\n};\n\nexport const RandomChordSelector: FC<PropsT, DefaultPropsT> = observer(\n  (p: PropsT) => {\n    const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n    return (\n      <KeyboardEventHandler\n        handleKeys={['space', 'enter']}\n        onKeyEvent={(key: string, e: any) => {\n          props.quizState.pickRandomChord();\n        }}\n      >\n        {props.children}\n      </KeyboardEventHandler>\n    );\n  }\n);\n","import { useDefaultProps, FC } from 'react-default-props-context';\nimport { always, flow, map, range } from 'lodash/fp';\nimport { observer } from 'mobx-react-lite';\nimport { Stage } from 'react-konva';\nimport { useStore } from 'src/app/components';\nimport { InversionSelector } from 'src/voicings/components/InversionSelector';\nimport 'src/keyboard/components/Keyboard.css';\nimport { ClefModulationSelector } from 'src/keyboard/components/ClefModulationSelector';\nimport { ClefSelector } from 'src/keyboard/components/ClefSelector';\nimport { Octave } from 'src/keyboard/components/Octave';\nimport { RandomChordSelector } from 'src/voicings/components/RandomChordSelector';\n\ntype PropsT = {\n  onClick: (event: any) => void;\n};\n\ntype DefaultPropsT = {};\n\nexport const Keyboard: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {\n  const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n  const { voicingStore, clefStore } = useStore();\n\n  const octaves = flow(\n    always(range(0, 4)),\n    map((i) => (\n      <Octave\n        key={i}\n        index={i}\n        clef={clefStore.clef}\n        chord={voicingStore.chord}\n      />\n    ))\n  )();\n\n  return (\n    <div className=\"Keyboard__frame\" onClick={props.onClick}>\n      <RandomChordSelector>\n        <ClefSelector>\n          <ClefModulationSelector>\n            <InversionSelector>\n              <div tabIndex={0}>\n                <Stage width={1400} height={250}>\n                  {octaves}\n                </Stage>\n              </div>\n            </InversionSelector>\n          </ClefModulationSelector>\n        </ClefSelector>\n      </RandomChordSelector>\n    </div>\n  );\n});\n","import classnames from 'classnames';\nimport { always, flow, map } from 'lodash/fp';\nimport { observer } from 'mobx-react-lite';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport { ClefListViewItem } from 'src/keyboard/components';\nimport { ClefT } from 'src/keyboard/types';\nimport { Selection } from 'skandha-facets/Selection';\n\nimport './ClefListView.scss';\n\ntype PropsT = {\n  className?: any;\n};\n\ntype DefaultPropsT = {\n  clefs: ClefT[];\n  clefsSelection: Selection;\n};\n\nexport const ClefListView: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {\n  const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n  const clefDivs = flow(\n    always(props.clefs),\n    map((x) => (\n      <ClefListViewItem\n        key={x}\n        clef={x}\n        className={classnames(\n          {\n            'ClefListViewItem--selected': props.clefsSelection.ids.includes(x),\n          },\n          props.className\n        )}\n        onMouseDown={(e: any) => {\n          props.clefsSelection.selectItem({\n            itemId: x,\n            isShift: false,\n            isCtrl: true,\n          });\n        }}\n      />\n    ))\n  )();\n\n  const noItems = <h2>There are no clefs</h2>;\n\n  return (\n    <div className=\"ClefListView flex flex-row w-full\">\n      {clefDivs.length && clefDivs}\n      {!clefDivs.length && noItems}\n    </div>\n  );\n});\n","import React from 'react';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { ClefT } from 'src/keyboard/types';\n\nimport './ClefListViewItem.scss';\n\nexport type PropsT = {\n  clef: ClefT;\n  onMouseDown: (event: any) => void;\n  className?: any;\n};\n\nexport const ClefListViewItem: React.FC<PropsT> = observer((props: PropsT) => {\n  return (\n    <div\n      className={classnames('ClefListViewItem flex-1', props.className)}\n      onMouseDown={props.onMouseDown}\n    >\n      {props.clef}\n    </div>\n  );\n});\n","import { valueByNoteName } from 'src/voicings/noteConstants';\nimport { map } from 'lodash/fp';\n\nexport const parseVoicing = (data: any) => {\n  const voicing = {\n    ...data,\n    chord: map((x: string) => {\n      const noteValue = (valueByNoteName as any)[x as any];\n      if (noteValue === undefined) {\n        console.log(`Error: unknown note ${x}`);\n      }\n      return noteValue;\n    }, data['chord']),\n  };\n\n  for (let i = 1; i < voicing.chord.length; ++i) {\n    while (voicing.chord[i] <= voicing.chord[i - 1]) {\n      voicing.chord[i] += 12;\n    }\n  }\n\n  return voicing;\n};\n\nconst parseVoicingGroup = (data: any) => {\n  return {\n    ...data,\n    voicings: map(parseVoicing, data['voicings']),\n  };\n};\n\nexport const cache = {\n  data: null,\n};\n\nexport const parseVoicingGroups = (data: any) => {\n  cache.data = data;\n  return map(parseVoicingGroup, data);\n};\n","import { observer } from 'mobx-react-lite';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport Dropdown, { MenuItem } from '@trendmicro/react-dropdown';\nimport { QuizState } from 'src/quiz/QuizState';\nimport { cache, parseVoicingGroups } from 'src/voicings/parse';\n\nimport '@trendmicro/react-buttons/dist/react-buttons.css';\nimport '@trendmicro/react-dropdown/dist/react-dropdown.css';\n\nimport './IoMenu.scss';\n\nconst twitterUrl = `https://twitter.com/intent/tweet?url=https://mnieber.github.io/brainpiano&hashtags=BrainPiano`;\n\ntype PropsT = {};\n\ntype DefaultPropsT = {\n  quizState: QuizState;\n};\n\nexport const IoMenu: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {\n  const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n  return (\n    <Dropdown\n      onSelect={(eventKey: any) => {\n        if (eventKey === 1) {\n          navigator.clipboard.writeText(JSON.stringify(cache.data, null, 2));\n        }\n        if (eventKey === 2) {\n          window.open(twitterUrl);\n        }\n        if (eventKey === 3) {\n          navigator.clipboard.readText().then((clipText) => {\n            debugger;\n            props.quizState.setGroups(parseVoicingGroups(JSON.parse(clipText)));\n          });\n        }\n      }}\n      autoOpen={true}\n      pullRight={true}\n    >\n      <Dropdown.Toggle btnSize=\"lg\" btnStyle=\"flat\">\n        IO\n      </Dropdown.Toggle>\n      <Dropdown.Menu>\n        <MenuItem eventKey={1}>Export</MenuItem>\n        <MenuItem divider />\n        <MenuItem eventKey={2}>Tweet</MenuItem>\n        <MenuItem divider />\n        <MenuItem eventKey={3}>Import</MenuItem>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n});\n","import React from 'react';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport classnames from 'classnames';\nimport { observer } from 'mobx-react-lite';\nimport { VoicingTitle } from 'src/voicings/components/VoicingTitle';\nimport { GroupPicker } from 'src/groups/components';\nimport { ClefListView } from 'src/keyboard/components';\nimport { QuizState } from 'src/quiz/QuizState';\nimport { IoMenu } from 'src/io/components';\n\nimport './QuizFrameTopPanel.scss';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\ntype DefaultPropsT = {\n  quizState: QuizState;\n};\n\nexport const QuizFrameTopPanel: FC<PropsT, DefaultPropsT> = observer(\n  (p: PropsT) => {\n    const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n    const HelpButton = (\n      <button\n        onClick={() =>\n          window.open('https://github.com/mnieber/brainpiano#brainpiano')\n        }\n      >\n        Help\n      </button>\n    );\n\n    return (\n      <div className={classnames('QuizFrameTopPanel mb-4')}>\n        <div className=\"QuizFrameTopPanel__firstRow mb4 flex flex-row justify-between\">\n          <VoicingTitle query={props.quizState.query} />\n          {HelpButton}\n          <VoicingTitle\n            label={\n              props.quizState.nextQuery ? 'Next: ' : 'Welcome to BrainPiano!'\n            }\n            query={props.quizState.nextQuery}\n          />\n        </div>\n        <GroupPicker className=\"flex-1\" />\n        <div className=\"flex flex-row justify-between mt-2\">\n          <ClefListView className=\"flex-1\" />\n          <IoMenu />\n        </div>\n      </div>\n    );\n  }\n);\n","import React from 'react';\nimport { useDefaultProps, FC } from 'react-default-props-context';\nimport { observer } from 'mobx-react-lite';\nimport { Keyboard } from 'src/keyboard/components/Keyboard';\nimport { QuizFrame } from 'src/quiz/components';\nimport { QuizState } from 'src/quiz/QuizState';\n\ntype PropsT = {};\n\ntype DefaultPropsT = {\n  quizState: QuizState;\n};\n\nexport const QuizView: FC<PropsT, DefaultPropsT> = observer((p: PropsT) => {\n  const props = useDefaultProps<PropsT, DefaultPropsT>(p);\n\n  const onClick = React.useMemo(() => () => props.quizState.pickRandomChord(), [\n    props.quizState,\n  ]);\n  return (\n    <QuizFrame>\n      <Keyboard onClick={onClick} />\n    </QuizFrame>\n  );\n});\n","export function listToItemById(qsList: Array<any>, key: string = 'id') {\n  const result: any = {};\n  qsList.forEach((item) => {\n    result[item[key]] = item;\n  });\n  return result;\n}\n\nexport function getIds(x: Array<any>): Array<string> {\n  return x.map((x) => x.id);\n}\n","import { EventT } from 'src/utils/types';\nimport { QuizState } from 'src/quiz/QuizState';\n\nexport const selectClefBasedOnPreselection = () => (quizState: QuizState) => {\n  const handler = (event: EventT) => {\n    if (quizState.query && event.topic === 'PreselectionStore.selectClef') {\n      quizState.query.clef =\n        event.details.clefLetter +\n        (event.details.isSharpening\n          ? '#'\n          : event.details.isFlattening\n          ? 'b'\n          : '');\n      quizState.props.clefStore.setClef(quizState.query.clef);\n    }\n  };\n\n  quizState.props.preselectionStore.signal.add(handler as any);\n  return () => quizState.props.preselectionStore.signal.remove(handler);\n};\n","import { size } from 'lodash/fp';\n\nexport const randomElement = (items: Array<any>) =>\n  items[Math.floor(Math.random() * size(items))];\n","import {\n  always,\n  concat,\n  size,\n  flow,\n  times,\n  constant,\n  take,\n  takeRight,\n} from 'lodash/fp';\nimport { ChordT } from 'src/voicings/types';\n\nexport const invertChord = (chord: ChordT, pos: number) => {\n  function rotate(arr: ChordT) {\n    const maxNote = arr[arr.length - 1];\n    let first = take(1, arr);\n    const last = takeRight(size(arr) - 1, arr);\n    while (first[0] <= maxNote) {\n      first[0] += 12;\n    }\n    return concat(last, first);\n  }\n\n  function rotateBack(arr: ChordT) {\n    const minNote = arr[0];\n    let last = takeRight(1, arr);\n    const first = take(size(arr) - 1, arr);\n    while (last[0] >= minNote) {\n      last[0] -= 12;\n    }\n    return concat(last, first);\n  }\n\n  const result =\n    pos === 0\n      ? chord\n      : pos > 0\n      ? flow(always(chord), ...times(constant(rotate), pos))()\n      : flow(always(chord), ...times(constant(rotateBack), Math.abs(pos)))();\n  return result;\n};\n\nexport const getInversionRange = (chord: ChordT) => {\n  const topC = 48;\n  let minInversion = 0;\n  let maxInversion = 0;\n  const l = chord.length;\n\n  while (invertChord(chord, maxInversion + 1)[l - 1] < topC) {\n    maxInversion += 1;\n  }\n\n  while (invertChord(chord, minInversion - 1)[0] >= 0) {\n    minInversion -= 1;\n  }\n\n  return [minInversion, maxInversion];\n};\n","import { add, always, map, flow } from 'lodash/fp';\n\nimport { octaveRootNoteValue, clefOffsets } from 'src/keyboard/keyConstants';\nimport { VoicingT } from 'src/voicings/types';\n\nexport const voicingToChord = (\n  voicing: VoicingT,\n  clef: string,\n  octaveIndex: number\n) => {\n  let rootNoteValue = octaveRootNoteValue(octaveIndex);\n  const keyOffset = clefOffsets[clef];\n\n  const result = flow(\n    //\n    always(voicing.chord),\n    map(add(rootNoteValue + keyOffset))\n  )();\n  return result;\n};\n","import { range, sumBy } from 'lodash/fp';\nimport { randomElement } from 'src/utils/random';\nimport { ClefT } from 'src/keyboard/types';\nimport { GroupT } from 'src/groups/types';\nimport { VoicingT } from 'src/voicings/types';\nimport { getInversionRange } from 'src/voicings/utils/invertChord';\nimport { QueryT } from 'src/quiz/types';\nimport { voicingToChord } from 'src/voicings/utils/voicingToChord';\nimport { mathMod } from 'src/utils/mathMod';\n\nconst getRandomInversion = (voicing: VoicingT, clef: ClefT) => {\n  const L = voicing.chord.length;\n\n  const [minInversion, maxInversion] = getInversionRange(\n    voicingToChord(voicing, clef, 1)\n  );\n  const inversionRange = range(minInversion, maxInversion + 1).filter((x) => {\n    return voicing.inversions[mathMod(x, L)] !== false;\n  });\n  if (inversionRange.length === 0) {\n    return 0;\n  }\n  let inversion = randomElement(inversionRange);\n\n  // Try to bring inversion closer to zero using steps of voicing.chord.length inversions\n  // (which means its the same inversion, just at a different place on the keyboard)\n  while (\n    inversion + L <= maxInversion &&\n    Math.abs(inversion) > Math.abs(inversion + L)\n  ) {\n    inversion += L;\n  }\n  while (\n    inversion - L >= minInversion &&\n    Math.abs(inversion) > Math.abs(inversion - L)\n  ) {\n    inversion -= L;\n  }\n  return inversion;\n};\n\nexport const createQuery = (clefs: ClefT[], groups: GroupT[]): QueryT => {\n  const clef = randomElement(clefs);\n  const nrVoicings = sumBy((x: GroupT) => x.voicings.length)(groups);\n  const voicingIdx = Math.floor(Math.random() * nrVoicings);\n\n  let groupIdx = 0;\n  let count = groups[0].voicings.length;\n  while (voicingIdx >= count) {\n    groupIdx += 1;\n    count += groups[groupIdx].voicings.length;\n  }\n\n  const group = groups[groupIdx];\n  const voicing = group.voicings[voicingIdx - (count - group.voicings.length)];\n  const inversion = getRandomInversion(voicing, clef);\n\n  return {\n    clef,\n    group,\n    voicing,\n    inversion,\n  };\n};\n","import { ClefT } from 'src/keyboard/types';\nimport { GroupT } from 'src/groups/types';\nimport { input } from 'skandha';\n\nexport class Inputs {\n  @input groups: Array<GroupT> = [];\n  @input clefs: Array<ClefT> = [];\n}\n","import { computed } from 'mobx';\nimport { GroupT, GroupByIdT } from 'src/groups/types';\nimport { listToItemById } from 'src/utils/ids';\nimport { output } from 'skandha';\nimport { ClefT } from 'src/keyboard/types';\n\nexport class Outputs {\n  @output clefsDisplay: Array<ClefT> = [];\n  @output groupsDisplay: Array<GroupT> = [];\n\n  @computed get groupById(): GroupByIdT {\n    return listToItemById(this.groupsDisplay);\n  }\n}\n","import { setCallbacks } from 'aspiration';\nimport { action, observable, makeObservable } from 'mobx';\nimport {\n  addCleanUpFunctionToCtr,\n  facet,\n  getm,\n  cleanUpCtr,\n  mapDataToFacet,\n  installPolicies,\n  registerFacets,\n  ClassMemberT as CMT,\n} from 'skandha';\nimport { makeCtrObservable } from 'skandha-mobx';\nimport { getIds } from 'src/utils/ids';\nimport * as Facets from 'skandha-facets';\nimport * as Policies from 'src/quiz/QuizState/policies';\nimport * as FacetPolicies from 'skandha-facets/policies';\nimport {\n  Selection,\n  SelectionCbs,\n  handleSelectItem,\n} from 'skandha-facets/Selection';\nimport { Highlight, HighlightCbs } from 'skandha-facets/Highlight';\nimport { createQuery } from 'src/quiz/utils/createQuery';\nimport { PreselectionStore } from 'src/keyboard/PreselectionStore';\n\nimport { QueryT } from 'src/quiz/types';\nimport { GroupsStore } from 'src/groups/GroupsStore';\nimport { VoicingStore } from 'src/voicings/VoicingStore';\nimport { ClefStore } from 'src/keyboard/ClefStore';\nimport { Inputs } from 'src/quiz/QuizState/facets/Inputs';\nimport { Outputs } from 'src/quiz/QuizState/facets/Outputs';\nimport { ClefT } from 'src/keyboard/types';\nimport { GroupT } from 'src/groups/types';\n\ntype PropsT = {\n  clefStore: ClefStore;\n  groupsStore: GroupsStore;\n  voicingStore: VoicingStore;\n  preselectionStore: PreselectionStore;\n};\n\nexport class QuizState {\n  props: PropsT;\n  @observable query?: QueryT;\n  @observable nextQuery?: QueryT;\n\n  @facet inputs = new Inputs();\n  @facet outputs = new Outputs();\n\n  clefs = {\n    selection: new Selection(),\n    highlight: new Highlight(),\n  };\n  groups = {\n    selection: new Selection(),\n    highlight: new Highlight(),\n  };\n\n  _setClefsCallbacks(props: PropsT) {\n    const ctr = this.clefs;\n    setCallbacks(ctr.selection, {\n      selectItem: {\n        selectItem(this: SelectionCbs['selectItem']) {\n          handleSelectItem(ctr.selection, this.selectionParams);\n          FacetPolicies.highlightFollowsSelection(\n            ctr.selection,\n            this.selectionParams\n          );\n        },\n      },\n    } as SelectionCbs);\n    setCallbacks(ctr.highlight, {} as HighlightCbs);\n  }\n\n  _setGroupsCallbacks(props: PropsT) {\n    const ctr = this.groups;\n    setCallbacks(ctr.selection, {\n      selectItem: {\n        selectItem(this: SelectionCbs['selectItem']) {\n          handleSelectItem(ctr.selection, this.selectionParams);\n          FacetPolicies.highlightFollowsSelection(\n            ctr.selection,\n            this.selectionParams\n          );\n        },\n      },\n    } as SelectionCbs);\n    setCallbacks(ctr.highlight, {} as HighlightCbs);\n  }\n\n  _applyClefsPolicies(props: PropsT) {\n    const Inputs_items = [Inputs, 'clefs', this] as CMT;\n    const Outputs_display = [Outputs, 'clefsDisplay', this] as CMT;\n\n    const policies = [\n      mapDataToFacet(Outputs_display, getm(Inputs_items)),\n      // selection\n      Facets.selectionUsesSelectableIds(getm(Outputs_display)),\n    ];\n\n    installPolicies(policies, this.clefs);\n  }\n\n  _applyGroupsPolicies(props: PropsT) {\n    const Inputs_items = [Inputs, 'groups', this] as CMT;\n    const Outputs_display = [Outputs, 'groupsDisplay', this] as CMT;\n    const Outputs_itemById = [Outputs, 'groupById', this] as CMT;\n\n    const policies = [\n      mapDataToFacet(Outputs_display, getm(Inputs_items)),\n      // selection\n      Facets.selectionUsesSelectableIds(getm(Outputs_display), getIds),\n      Facets.selectionUsesItemLookUpTable(getm(Outputs_itemById)),\n      // highlight\n      Facets.highlightUsesItemLookUpTable(getm(Outputs_itemById)),\n    ];\n\n    installPolicies(policies, this.groups);\n  }\n\n  destroy() {\n    cleanUpCtr(this.clefs);\n    cleanUpCtr(this.groups);\n  }\n\n  constructor(props: PropsT) {\n    this.props = props;\n\n    registerFacets(this, {});\n    makeObservable(this);\n\n    registerFacets(this.clefs, { name: 'Clefs' });\n    this._setClefsCallbacks(props);\n    this._applyClefsPolicies(props);\n    makeCtrObservable(this.clefs);\n\n    registerFacets(this.groups, { name: 'Groups' });\n    this._setGroupsCallbacks(props);\n    this._applyGroupsPolicies(props);\n    makeCtrObservable(this.groups);\n\n    const cuf = Policies.selectClefBasedOnPreselection()(this);\n    addCleanUpFunctionToCtr(this.clefs, cuf);\n  }\n\n  @action setClefs(clefs: ClefT[]) {\n    this.inputs.clefs = clefs;\n    this.clefs.selection.ids = clefs;\n  }\n\n  @action setGroups(groups: GroupT[]) {\n    this.inputs.groups = groups;\n    this.groups.selection.ids = getIds(groups);\n  }\n\n  @action pickRandomChord() {\n    this.query =\n      this.nextQuery ??\n      createQuery(this.clefs.selection.ids, this.groups.selection.items ?? []);\n\n    this.nextQuery = createQuery(\n      this.clefs.selection.ids,\n      this.groups.selection.items ?? []\n    );\n\n    if (this.query) {\n      this.props.clefStore.setClef(this.query.clef);\n      this.props.voicingStore.setVoicing(this.query.voicing);\n      this.props.voicingStore.setInversion(this.query.inversion);\n    }\n  }\n}\n","export const voicingGroups = [\n  {\n    id: 'minor',\n    name: 'minor',\n    voicings: [\n      {\n        id: 'Min6+9',\n        name: 'Min6+9',\n        chord: ['flat3', 'fifth', 'ninth', 'thirteenth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: 'Min7+9',\n        name: 'Min7+9',\n        chord: ['flat3', 'fifth', 'flat7', 'ninth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: 'ø+9',\n        name: 'ø+9',\n        chord: ['flat3', 'flat5', 'flat7', 'ninth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: 'MinMaj+9',\n        name: 'MinMaj+9',\n        chord: ['flat3', 'fifth', 'seventh', 'ninth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: 'Min6',\n        name: 'Min6',\n        chord: ['flat3', 'fifth', 'thirteenth'],\n        inversions: [true, true, true],\n      },\n      {\n        id: 'Min7',\n        name: 'Min7',\n        chord: ['flat3', 'fifth', 'flat7'],\n        inversions: [true, true, true],\n      },\n      {\n        id: 'ø',\n        name: 'ø',\n        chord: ['flat3', 'flat5', 'flat7'],\n        inversions: [true, true, true],\n      },\n      {\n        id: 'Min',\n        name: 'Min',\n        chord: ['flat3', 'fifth'],\n        inversions: [true, true],\n      },\n      {\n        id: 'MinMaj',\n        name: 'MinMaj',\n        chord: ['flat3', 'fifth', 'seventh'],\n        inversions: [true, true, true],\n      },\n    ],\n  },\n  {\n    id: 'fourths',\n    name: 'fourths',\n    voicings: [\n      {\n        id: 'SoWhat',\n        name: 'SoWhat',\n        chord: ['root', 'fourth', 'flat7', 'flat3', 'fifth'],\n        inversions: [false, true, false, false, false, false],\n      },\n    ],\n  },\n  {\n    id: 'major',\n    name: 'major',\n    voicings: [\n      {\n        id: 'Maj6+9',\n        name: 'Maj6+9',\n        chord: ['third', 'sixth', 'ninth'],\n        inversions: [true, true, true],\n      },\n      {\n        id: 'Maj7+9',\n        name: 'Maj7+9',\n        chord: ['third', 'fifth', 'seventh', 'ninth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: 'Maj6',\n        name: 'Maj6',\n        chord: ['third', 'sixth'],\n        inversions: [true, true],\n      },\n      {\n        id: 'Maj7',\n        name: 'Maj7',\n        chord: ['third', 'fifth', 'seventh'],\n        inversions: [true, true, true],\n      },\n      {\n        id: 'Maj',\n        name: 'Maj',\n        chord: ['third', 'fifth'],\n        inversions: [true, true],\n      },\n    ],\n  },\n  {\n    id: 'dominant',\n    name: 'dominant',\n    voicings: [\n      { id: '7+13', name: '7+13', chord: ['third', 'flat7', 'thirteenth'] },\n      {\n        id: '7+9',\n        name: '7+9',\n        chord: ['third', 'fifth', 'flat7', 'ninth'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7+b13',\n        name: '7+b13',\n        chord: ['third', 'flat7', 'flat13'],\n        inversions: [true, true, true],\n      },\n      {\n        id: '7+9+b13',\n        name: '7+9+b13',\n        chord: ['third', 'flat7', 'ninth', 'flat13'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7+b5',\n        name: '7+b5',\n        chord: ['third', 'flat5', 'flat7'],\n        inversions: [true, true, true],\n      },\n      {\n        id: '7+b5+b13',\n        name: '7+b5+b13',\n        chord: ['third', 'flat5', 'flat7', 'flat13'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7+b9',\n        name: '7+b9',\n        chord: ['third', 'fifth', 'flat7', 'flat9'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7+b9+13',\n        name: '7+b9+13',\n        chord: ['third', 'thirteenth', 'flat7', 'flat9'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7+b9+b13',\n        name: '7+b9+b13',\n        chord: ['third', 'flat13', 'flat7', 'flat9'],\n        inversions: [true, true, true, true],\n      },\n      {\n        id: '7',\n        name: '7',\n        chord: ['third', 'fifth', 'flat7'],\n        inversions: [true, true, true],\n      },\n    ],\n  },\n];\n","import * as React from 'react';\nimport { action, reaction } from 'mobx';\n\nimport { QuizState } from 'src/quiz/QuizState';\nimport { CtrProvider } from 'react-default-props-context';\nimport { useStore } from 'src/app/components';\nimport { voicingGroups } from 'src/voicings/voicingGroups';\nimport { clefs } from 'src/keyboard/keyConstants';\nimport { parseVoicingGroups } from 'src/voicings/parse';\n\ntype PropsT = React.PropsWithChildren<{}>;\n\n// Note: don't observe this with MobX\nexport const QuizStateProvider: React.FC<PropsT> = (props: PropsT) => {\n  const {\n    groupsStore,\n    clefStore,\n    voicingStore,\n    preselectionStore,\n  } = useStore();\n  const groups = parseVoicingGroups(voicingGroups);\n\n  const createState = action(() => {\n    const state = new QuizState({\n      groupsStore,\n      clefStore,\n      voicingStore,\n      preselectionStore,\n    });\n    state.setClefs(clefs);\n    state.setGroups(groups);\n    return state;\n  });\n\n  const updateState = (state: QuizState) => {\n    reaction(\n      () => ({}),\n      (inputs) => {},\n      {\n        fireImmediately: true,\n      }\n    );\n  };\n\n  const getDefaultProps = (state: QuizState) => {\n    return {\n      quizState: () => state,\n      clefs: () => state.outputs.clefsDisplay,\n      clefsSelection: () => state.clefs.selection,\n      clefsHighlight: () => state.clefs.highlight,\n      clef: () => state.clefs.highlight.item,\n      groups: () => state.outputs.groupsDisplay,\n      groupsSelection: () => state.groups.selection,\n      groupsHighlight: () => state.groups.highlight,\n      group: () => state.groups.highlight.item,\n    };\n  };\n\n  return (\n    <CtrProvider\n      createCtr={createState}\n      updateCtr={updateState}\n      destroyCtr={(state: QuizState) => state.destroy()}\n      getDefaultProps={getDefaultProps}\n    >\n      {props.children}\n    </CtrProvider>\n  );\n};\n","import React from 'react';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport { observer } from 'mobx-react-lite';\nimport { createBrowserHistory } from 'history';\nimport { QuizView } from 'src/quiz/components';\nimport { QuizStateProvider } from 'src/quiz/components';\n\ntype PropsT = {};\n\nexport const history = createBrowserHistory();\n\nexport const UrlRouter: React.FC<PropsT> = observer((props: PropsT) => {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route path=\"\">\n          <QuizStateProvider>\n            <QuizView />\n          </QuizStateProvider>\n        </Route>\n      </Switch>\n    </Router>\n  );\n});\n","import React from 'react';\n\nimport './App.scss';\nimport { UrlRouter } from 'src/app/components/UrlRouter';\n\nexport function App() {\n  return (\n    <div className=\"App w-screen\">\n      <header className=\"App__Header\">\n        <UrlRouter />\n      </header>\n    </div>\n  );\n}\n","import { GroupByIdT } from 'src/groups/types';\nimport { observable, makeObservable } from 'mobx';\n\nexport class GroupsStore {\n  @observable groupById: GroupByIdT = {};\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  loadGroups() {}\n}\n","import { makeObservable, observable, action } from 'mobx';\nimport { Signal } from 'micro-signals';\n\nexport class PreselectionStore {\n  signal = new Signal();\n  clefLetter?: string = undefined;\n  isSharpening?: boolean = undefined;\n  isFlattening?: boolean = undefined;\n\n  constructor() {\n    makeObservable(this, {\n      clefLetter: observable,\n      isSharpening: observable,\n      isFlattening: observable,\n      setClefLetter: action,\n      setIsSharpening: action,\n      setIsFlattening: action,\n      reset: action,\n    });\n  }\n\n  setClefLetter = (x?: string) => (this.clefLetter = x);\n  setIsSharpening = (x?: boolean) => (this.isSharpening = x);\n  setIsFlattening = (x?: boolean) => (this.isFlattening = x);\n\n  reset = () => {\n    if (this.clefLetter) {\n      this.signal.dispatch({\n        topic: 'PreselectionStore.selectClef',\n        details: {\n          clefLetter: this.clefLetter,\n          isSharpening: this.isSharpening,\n          isFlattening: this.isFlattening,\n        },\n      });\n    }\n    this.setIsFlattening(false);\n    this.setIsSharpening(false);\n    this.setClefLetter(undefined);\n  };\n}\n","import { clamp, size } from 'lodash/fp';\nimport { action, computed, makeObservable, observable } from 'mobx';\nimport { invertChord } from 'src/voicings/utils/invertChord';\nimport { voicingToChord } from 'src/voicings/utils/voicingToChord';\nimport { VoicingT } from 'src/voicings/types';\nimport { getInversionRange } from 'src/voicings/utils/invertChord';\nimport { parseVoicing } from 'src/voicings/parse';\n\nconst cScale = parseVoicing({\n  id: 'Chromatic',\n  name: 'Chromatic',\n  chord: [\n    'root',\n    'flat9',\n    'ninth',\n    'flat3',\n    'third',\n    'fourth',\n    'flat5',\n    'fifth',\n    'flat6',\n    'sixth',\n    'flat7',\n    'seventh',\n  ],\n});\n\nexport class VoicingStore {\n  clef: string = 'C';\n  inversion: number = 0;\n  voicing: VoicingT = cScale;\n\n  constructor() {\n    makeObservable(this, {\n      clef: observable,\n      inversion: observable,\n      voicing: observable,\n      chord: computed,\n      nrOfVoices: computed,\n      inversionRange: computed,\n      setInversion: action,\n      setVoicing: action,\n    });\n  }\n\n  setInversion = (x: number) => {\n    this.inversion = clamp(\n      this.inversionRange[0],\n      this.inversionRange[1]\n    )(x) as any;\n  };\n\n  setVoicing = (voicing: VoicingT) => {\n    this.voicing = voicing;\n  };\n\n  get inversionRange() {\n    return getInversionRange(voicingToChord(this.voicing, this.clef, 1));\n  }\n\n  get nrOfVoices() {\n    return size(this.voicing.chord);\n  }\n\n  get chord() {\n    return this.clef\n      ? invertChord(voicingToChord(this.voicing, this.clef, 1), this.inversion)\n      : undefined;\n  }\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\n\nimport { clefC } from 'src/keyboard/keyConstants';\nimport { ClefT } from 'src/keyboard/types';\n\nexport class ClefStore {\n  clefLetter = clefC;\n  clefSharp = false;\n  clefFlat = false;\n\n  constructor() {\n    makeObservable(this, {\n      clefLetter: observable,\n      clefSharp: observable,\n      clefFlat: observable,\n      setClefLetter: action,\n      setClefSharp: action,\n      setClefFlat: action,\n      clef: computed,\n    });\n  }\n\n  setClefLetter = (clefLetter: string) => {\n    this.clefLetter = clefLetter;\n  };\n\n  setClefSharp = (x: boolean) => {\n    this.clefSharp = x;\n    if (x) this.clefFlat = false;\n  };\n\n  setClefFlat = (x: boolean) => {\n    this.clefFlat = x;\n    if (x) this.clefSharp = false;\n  };\n\n  get clef() {\n    return this.clefLetter + (this.clefSharp ? '#' : this.clefFlat ? 'b' : '');\n  }\n\n  setClef(x: ClefT) {\n    const clefLetter = x[0];\n    this.setClefLetter(clefLetter);\n    const modulate = x[1];\n    this.setClefFlat(modulate == 'b');\n    this.setClefSharp(modulate == '#');\n  }\n}\n","import { reaction } from 'mobx';\nimport { AppStore } from 'src/app/AppStore';\n\nexport const voicingStoreUsesSelectedClef = () => (appStore: AppStore) => {\n  reaction(\n    () => appStore.clefStore.clef,\n    (clef) => {\n      appStore.voicingStore.clef = clef;\n    },\n    { fireImmediately: true }\n  );\n};\n","import { observable, makeObservable } from 'mobx';\nimport { GroupsStore } from 'src/groups/GroupsStore';\nimport { PreselectionStore } from 'src/keyboard/PreselectionStore';\nimport { VoicingStore } from 'src/voicings/VoicingStore';\nimport { ClefStore } from 'src/keyboard/ClefStore';\nimport * as Policies from 'src/app/policies';\n\nexport class AppStore {\n  @observable groupsStore: GroupsStore;\n  voicingStore = new VoicingStore();\n  clefStore = new ClefStore();\n  preselectionStore = new PreselectionStore();\n\n  constructor() {\n    makeObservable(this, {\n      voicingStore: observable,\n      clefStore: observable,\n      preselectionStore: observable,\n    });\n    this.groupsStore = new GroupsStore();\n    this.applyPolicies();\n  }\n\n  applyPolicies() {\n    Policies.voicingStoreUsesSelectedClef()(this);\n  }\n}\n","import React from 'react';\nimport { AppStore } from 'src/app/AppStore';\n\nconst appStore = new AppStore();\n\nexport const StoreContext = React.createContext<AppStore>(appStore);\n\nexport const StoreProvider: React.FC = ({ children }) => {\n  return (\n    <StoreContext.Provider value={appStore}>\n      {children}\n    </StoreContext.Provider>\n  );\n};","import React from 'react';\nimport { StoreContext } from 'src/app/components/StoreProvider';\n\nexport const useStore = () => {\n  const store = React.useContext(StoreContext);\n  if (!store) {\n    throw new Error('useStore must be used within a StoreProvider.');\n  }\n  return store;\n};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from 'src/app/components';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}