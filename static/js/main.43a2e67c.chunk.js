(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var r,i=n(0),o=n.n(i),c=n(28),a=n.n(c),l=(n(100),n(101),n(188)),s=n(5),u=n(33),f=n(18),h=n.n(f),d=(n(102),n(1)),b=Object(s.a)((function(e){return Object(d.jsxs)("div",{className:h()("QuizFrame flex flex-col"),children:[Object(d.jsx)(Fe,{}),Object(d.jsx)("div",{className:h()("QuizFrame__MidSection flex flex-row"),children:e.children})]})})),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},v=i.createContext({}),j=function(){return i.useContext(v)},O=function(e){var t=j(),n=p(p({},t||{}),e.value);return i.createElement(v.Provider,{value:n},e.children)},g={},m=function(e){var t=i.useState((function(){var t;return e.ctrKey?g[e.ctrKey]=null!==(t=g[e.ctrKey])&&void 0!==t?t:e.createCtr():e.createCtr()}))[0];return i.useEffect((function(){var n=e.updateCtr?e.updateCtr(t):void 0;return function(){n&&n(),e.ctrKey||e.destroyCtr(t)}})),i.createElement(O,{value:e.getDefaultProps(t)},e.children)},y=function(e){var t=j();return t||console.error("No default props: ",e),new Proxy(e,{get:function(e,n){return n in e?e[n]:n in t?t[n]():void 0}})},w=(n(70),n(3)),x=function(e,t){return Object(w.isInteger)(e)?!Object(w.isInteger)(t)||t<1?NaN:(e%t+t)%t:NaN},S={0:"root",1:"flat nine",2:"nine",3:"flat third",4:"third",5:"fourth/eleventh",6:"tritone",7:"fifth",8:"flat thirteen",9:"thirteenth",10:"flat seven",11:"seven"},C={root:0,"flat nine":1,flat9:1,nine:2,ninth:2,"flat third":3,flat3:3,third:4,fourth:5,eleven:5,eleventh:5,sharp4:6,flat5:6,sharp11:6,"sharp fourth":6,"sharp eleventh":6,fifth:7,"flat thirteen":8,flat6:8,flat13:8,six:9,sixth:9,thirteen:9,thirteenth:9,flat7:10,"flat seven":10,seven:11,seventh:11},M=n(14),I=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],k=(r={},Object(M.a)(r,"Cb",11),Object(M.a)(r,"C",0),Object(M.a)(r,"C#",1),Object(M.a)(r,"Db",1),Object(M.a)(r,"D",2),Object(M.a)(r,"D#",3),Object(M.a)(r,"Eb",3),Object(M.a)(r,"E",4),Object(M.a)(r,"E#",5),Object(M.a)(r,"Fb",4),Object(M.a)(r,"F",5),Object(M.a)(r,"F#",6),Object(M.a)(r,"Gb",6),Object(M.a)(r,"G",7),Object(M.a)(r,"G#",8),Object(M.a)(r,"Ab",8),Object(M.a)(r,"A",9),Object(M.a)(r,"A#",10),Object(M.a)(r,"Bb",10),Object(M.a)(r,"B",11),Object(M.a)(r,"B#",0),r),P=["C","D","E","F","G","A","B"],F=[0,2,4,5,7,9,11],E=[1,3,6,8,10],N=function(e){return Object(w.includes)(e,F)},D=function(e){return 12*e},R=function(e){return x(e,12)},z=function(e){var t=x(e.inversion,e.voicing.chord.length),n=R(e.voicing.chord[t]),r=S[n];return"".concat(e.clef," ").concat(e.voicing.name," from ")+"".concat(r)},q=(n(108),Object(s.a)((function(e){var t;return Object(d.jsx)("div",{className:"VoicingTitle",children:(null!==(t=e.label)&&void 0!==t?t:"")+(e.query?z(e.query):"")})}))),L=(n(109),Object(s.a)((function(e){return Object(d.jsxs)("div",{className:h()("GroupsFrame flex flex-col"),children:[Object(d.jsx)(L,{}),Object(d.jsxs)("div",{className:h()("GroupsFrame__MidSection flex flex-row"),children:[Object(d.jsx)(U,{}),e.children]})]})})),n(110),Object(s.a)((function(){return Object(d.jsx)("div",{className:h()("GroupsFrameTopPanel")})}))),_=n(2),K=n(36),G=n(95),B=n(89),T=n(88),V=Object(s.a)((function(e){var t=e.isMulti,n=e.isCreatable,r=e.pickableValue,i=e.pickableValues,o=e.labelFromValue,c=Object(G.a)(e,["isMulti","isCreatable","pickableValue","pickableValues","labelFromValue"]),a=function(e){return e.__isNew__?e:{value:e,label:o(e)}},l=i.map(a),s=Object(K.a)({isMulti:t,options:l,value:Object(w.isNil)(r)?void 0:t?r.map(a):a(r),onKeyDown:function(e){c.onKeyDown&&c.onKeyDown(e)}},c),u=n?Object(d.jsx)(T.a,Object(K.a)({},s)):Object(d.jsx)(B.a,Object(K.a)({},s));return Object(d.jsx)("div",{style:{zIndex:c.zIndex},children:u})})),A=(n(125),Object(s.a)((function(e){var t=y(e),n=Object(_.b)((function(e){var n,r=null!==(n=e)&&void 0!==n?n:[];t.groupsSelection.ids=r.map((function(e){return e.value.id}))}));return Object(d.jsx)("div",{className:h()("GroupPicker",t.className),children:Object(d.jsx)(V,{isMulti:!0,isCreatable:!1,pickableValues:t.groups,labelFromValue:function(e){return e.name},pickableValue:t.groupsSelection.items,onChange:n})})}))),U=(n(126),Object(s.a)((function(){return Object(d.jsx)("div",{className:h()("GroupsFrameLeftPanel")})}))),Q=n(96),H=(Object(s.a)((function(e){var t=e.f;return Object(Q.a)((function(){return t()}),[t]),Object(d.jsx)(o.a.Fragment,{})})),"RESET"),W="UPDATING",J="ERRORED",Z="UPDATED",$=function(){return{type:W,updating_state:{type:"LOADING"}}},X=(Object(_.b)((function(e,t,n,r,i){return e[t]=$(),n().then(Object(_.b)((function(n){r(n),e[t]={type:Z}}))).catch(Object(_.b)((function(n){var r;e[t]=(r=i?i(n):"Could not load ".concat(t),{type:J,message:r})})))})),function(e){return Object(d.jsxs)("div",{children:["Error",void 0!==e&&": ".concat(e)]})}),Y=function(){return Object(d.jsx)("div",{children:"Loading..."})},ee=(Object(s.a)((function(e){var t,n,r=null!==(t=e.renderErrored)&&void 0!==t?t:X,i=null!==(n=e.renderUpdating)&&void 0!==n?n:Y;return e.rs.type===Z?function(){try{return e.renderUpdated()}catch(t){return r(t.message)}}():function(e){return e.type===J}(e.rs)?r(e.rs.message):function(e){return e.type===W}(e.rs)?i(e.rs.updating_state):function(e){return e.type===H}(e.rs)?Object(d.jsx)(o.a.Fragment,{}):function(){throw Error("Received unrecognized resource state ".concat(e.rs))}()})),n(34)),te=n(29),ne=n.n(te),re=n(91),ie=n.n(re),oe=new(window.AudioContext||window.webkitAudioContext),ce=new ie.a(oe),ae=Object(s.a)((function(e){var t=y(e),n=Rn().voicingStore;return Object(d.jsx)(ne.a,{handleKeys:["ctrl+left","ctrl+right"],onKeyEvent:function(e,r){"ctrl+right"===e&&(n.setInversion(n.inversion+1),t.quizState.query&&(t.quizState.query.inversion=n.inversion)),"ctrl+left"===e&&(n.setInversion(n.inversion-1),t.quizState.query&&(t.quizState.query.inversion=n.inversion))},children:Object(d.jsx)(ne.a,{handleKeys:["p"],onKeyEvent:function(e,t){var r,i;r=n.chord,i=n.clef,Object(w.forEach)((function(e){return ce.playNote(e+48,1,1,0)}),r),ce.playNote(k[i]+36,1,1,0)},children:t.children})})})),le=Object(s.a)((function(e){var t=e.children,n=Rn().preselectionStore;return Object(d.jsx)(ne.a,{handleKeys:["up","down"],handleEventType:"keydown",onKeyEvent:function(e,t){n.setIsSharpening("up"===e),n.setIsFlattening("down"===e)},children:Object(d.jsx)(ne.a,{handleKeys:["up","down"],handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),se=Object(s.a)((function(e){var t=e.children,n=Rn().preselectionStore;return Object(d.jsx)(ne.a,{handleKeys:P,handleEventType:"keydown",onKeyEvent:function(e,t){n.setClefLetter(e)},children:Object(d.jsx)(ne.a,{handleKeys:P,handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),ue={0:"#aaaaaa",1:"#fa9835-striped",2:"#fa9835",3:"#40d530-striped",4:"#40d530",5:"#fee449",6:"#f53311-striped",7:"#f53311",8:"#38baf2-striped",9:"#38baf2",10:"#ff99ff-striped",11:"#ff99ff"};var fe=Object(s.a)((function(e){var t=Math.floor(e.height/4.25);return e.isStriped?Object(w.flow)(Object(w.always)(Object(w.range)(0,t)),Object(w.map)((function(t){var n=Math.floor(t/2),r=t-n,i=t%2==0,o=e.y+5*r+3.5*n,c=i?5:3.5;return Object(d.jsx)(ee.b,{x:e.x+1,y:o,fill:i?e.fill:e.backgroundColour,width:e.width-2,height:c,strokeWidth:0,opacity:1},t)})))():[Object(d.jsx)(ee.b,{x:e.x+1,y:e.y,fill:e.fill,width:e.width-2,height:e.height,strokeWidth:0,opacity:1},0)]})),he={width:50,height:250,fill:"#FFFFFF",markerHeight:56},de={width:25,height:160,fill:"#444444",markerHeight:100},be=Object(w.flow)(Object(w.always)(Object(w.range)(0,7)),Object(w.map)((function(e){return e*he.width})))(),pe=function(e){return e*de.width},ve=[be[1]-pe(.66),be[2]-pe(.33),be[4]-pe(.7),be[5]-pe(.5),be[6]-pe(.3)],je=Object(s.a)((function(e){var t=N(e.index),n=t?he:de,r=t?3:2,i=7*e.octaveIndex*he.width+function(e){var t=N(e),n=t?F:E;return(t?be:ve)[Object(w.indexOf)(e,n)]}(e.index);return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)(ee.b,{x:i,y:0,fill:n.fill,stroke:"#000000",opacity:1,width:n.width,height:n.height}),Object(d.jsx)(fe,{x:i+2,y:0+n.height-n.markerHeight-r,height:n.markerHeight,width:n.width-4,fill:e.markerColour,isStriped:e.markerIsStriped,backgroundColour:n.fill})]})})),Oe=Object(s.a)((function(e){var t=Object(w.concat)(F,E),n=Object(w.flow)(Object(w.always)(t),Object(w.map)(Object(w.add)(D(e.index))),Object(w.map)((function(t){var n=R(t),r=function(e,t,n){var r=Object(w.includes)(e,n)?ue[R(e-k[t])]:void 0,i=!(!r||!r.endsWith("-striped"));return{colour:i?Object(w.split)("-striped",r)[0]:r,isStriped:i}}(t,e.clef,e.chord),i=r.colour,o=r.isStriped;return Object(d.jsx)(je,{index:n,octaveIndex:e.index,markerColour:i,markerIsStriped:o},t)})))();return Object(d.jsx)(ee.a,{children:n})})),ge=Object(s.a)((function(e){var t=y(e);return Object(d.jsx)(ne.a,{handleKeys:["space","enter"],onKeyEvent:function(e,n){t.quizState.pickRandomChord()},children:t.children})})),me=Object(s.a)((function(e){var t=y(e),n=Rn(),r=n.voicingStore,i=n.clefStore,o=Object(w.flow)(Object(w.always)(Object(w.range)(0,4)),Object(w.map)((function(e){return Object(d.jsx)(Oe,{index:e,clef:i.clef,chord:r.chord},e)})))();return Object(d.jsx)("div",{className:"Keyboard__frame",onClick:t.onClick,children:Object(d.jsx)(ge,{children:Object(d.jsx)(se,{children:Object(d.jsx)(le,{children:Object(d.jsx)(ae,{children:Object(d.jsx)("div",{tabIndex:0,children:Object(d.jsx)(ee.c,{width:1400,height:250,children:o})})})})})})})})),ye=(n(165),Object(s.a)((function(e){var t=y(e),n=Object(w.flow)(Object(w.always)(t.clefs),Object(w.map)((function(e){return Object(d.jsx)(we,{clef:e,className:h()({"ClefListViewItem--selected":t.clefsSelection.ids.includes(e)},t.className),onMouseDown:function(n){t.clefsSelection.selectItem({itemId:e,isShift:!1,isCtrl:!0})}},e)})))(),r=Object(d.jsx)("h2",{children:"There are no clefs"});return Object(d.jsxs)("div",{className:"ClefListView flex flex-row w-full",children:[n.length&&n,!n.length&&r]})}))),we=(n(166),Object(s.a)((function(e){return Object(d.jsx)("div",{className:h()("ClefListViewItem flex-1",e.className),onMouseDown:e.onMouseDown,children:e.clef})}))),xe=n(37),Se=n.n(xe),Ce=function(e){for(var t=Object(K.a)(Object(K.a)({},e),{},{chord:Object(w.map)((function(e){var t=C[e];return void 0===t&&console.log("Error: unknown note ".concat(e)),t}),e.chord)}),n=1;n<t.chord.length;++n)for(;t.chord[n]<=t.chord[n-1];)t.chord[n]+=12;return t},Me=function(e){return Object(K.a)(Object(K.a)({},e),{},{voicings:Object(w.map)(Ce,e.voicings)})},Ie={data:null},ke=function(e){return Ie.data=e,Object(w.map)(Me,e)},Pe=(n(176),n(177),n(178),Object(s.a)((function(e){var t=y(e);return Object(d.jsxs)(Se.a,{onSelect:function(e){1===e&&navigator.clipboard.writeText(JSON.stringify(Ie.data,null,2)),2===e&&window.open("https://twitter.com/intent/tweet?url=www.brainpiano.ai&hashtags=BrainPiano"),3===e&&navigator.clipboard.readText().then((function(e){t.quizState.setGroups(ke(JSON.parse(e)))}))},autoOpen:!0,pullRight:!0,children:[Object(d.jsx)(Se.a.Toggle,{btnSize:"lg",btnStyle:"flat",children:"IO"}),Object(d.jsxs)(Se.a.Menu,{children:[Object(d.jsx)(xe.MenuItem,{eventKey:1,children:"Export"}),Object(d.jsx)(xe.MenuItem,{divider:!0}),Object(d.jsx)(xe.MenuItem,{eventKey:2,children:"Tweet"}),Object(d.jsx)(xe.MenuItem,{divider:!0}),Object(d.jsx)(xe.MenuItem,{eventKey:3,children:"Import"})]})]})}))),Fe=(n(179),Object(s.a)((function(e){var t=y(e),n=Object(d.jsx)("button",{onClick:function(){return window.open("https://github.com/mnieber/brainpiano#brainpiano")},children:"Help"});return Object(d.jsxs)("div",{className:h()("QuizFrameTopPanel mb-4"),children:[Object(d.jsxs)("div",{className:"QuizFrameTopPanel__firstRow mb4 flex flex-row justify-between",children:[Object(d.jsx)(q,{query:t.quizState.query}),n,Object(d.jsx)(q,{label:t.quizState.nextQuery?"Next: ":"Welcome to BrainPiano!",query:t.quizState.nextQuery})]}),Object(d.jsx)(A,{className:"flex-1"}),Object(d.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[Object(d.jsx)(ye,{className:"flex-1"}),Object(d.jsx)(Pe,{})]})]})}))),Ee=Object(s.a)((function(e){var t=y(e),n=o.a.useMemo((function(){return function(){return t.quizState.pickRandomChord()}}),[t.quizState]);return Object(d.jsx)(b,{children:Object(d.jsx)(me,{onClick:n})})})),Ne=n(23),De=n(12),Re=n(13),ze=n(19),qe=(n(47),{admin:Symbol("aspiration administration")});function Le(e){return r=function(){return{}},(t=e)[n=qe.admin]||(t[n]=r()),t[n];var t,n,r}var _e=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,\)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,\)]*))/gm,Ke=/([^\s,]+)/g;function Ge(e){var t=e.toString().replace(_e,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Ke);return null===n&&(n=[]),n}function Be(e,t,n){var r;return e.defaultCallbackMap=null!==(r=e.defaultCallbackMap)&&void 0!==r?r:{},e.defaultCallbackMap[t]=n,n}function Te(e,t,n,r){var i=n.value;return"function"===typeof n.value&&(n.value=function(){for(var e,n,o,c,a,l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];var u=Le(this),f=null!==(c=null!==(n=null===(e=u.callbackMap)||void 0===e?void 0:e[t])&&void 0!==n?n:null===(o=u.defaultCallbackMap)||void 0===o?void 0:o[t])&&void 0!==c?c:Be(u,t,r(this));u.paramNamesMap||(u.paramNamesMap={});for(var h=u.paramNamesMap[t]=null!==(a=u.paramNamesMap[t])&&void 0!==a?a:Ge(i),d={},b=0,p=h.length;b<p;++b){d[j=h[b]]=f[j],f[j]=l[b]}f.enter&&f.enter();var v=i.bind(this).apply(void 0,l)(f);f.exit&&f.exit();for(b=0,p=h.length;b<p;++b){var j;f[j=h[b]]=d[j]}return v}),n}function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=function(t,n,r){return Te(0,n,r,e[0])};return n}e[0];var r=e[1],i=e[2];return Te(0,r,i,(function(){return{}}))}function Ae(e,t){var n,r=Le(e);r.callbackMap=t,r.defaultCallbackMap=null!==(n=r.defaultCallbackMap)&&void 0!==n?n:{}}!function(){function e(){}e.prototype.enter=function(){},e.prototype.exit=function(){}}();var Ue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Qe=function(e){return null!==e&&void 0!==e?e:Ue},He={admin:Symbol("skandha administration")};function We(e,t,n){return e[t]||(e[t]=n()),e[t]}function Je(e){return We(e,He.admin,(function(){return{}}))}function Ze(e){return We(e,He.admin,(function(){return{}}))}function $e(e){return We(e,He.admin,(function(){return{}}))}function Xe(e){return We(e,He.admin,(function(){return{}}))}function Ye(e,t,n){var r;void 0===n&&(n=void 0);var i=$e(e.constructor);return i.dataMembers=null!==(r=i.dataMembers)&&void 0!==r?r:{},i.dataMembers[t]=!0,function(e,t,n){var r;void 0===n&&(n=void 0);var i=$e(e.constructor);return i.loggedMembers=null!==(r=i.loggedMembers)&&void 0!==r?r:{},i.loggedMembers[t]=!0,n}(e,t,n)}function et(e){var t;return Object.keys(null!==(t=$e(e.constructor).dataMembers)&&void 0!==t?t:{})}var tt=Ye,nt=Ye;function rt(e){return Xe(e).parentContainer}function it(e){var t;return null!==(t=Ze(e).facetMembers)&&void 0!==t?t:[]}function ot(e){var t,n=Ze(e);n.cleanUpFunctions=null!==(t=n.cleanUpFunctions)&&void 0!==t?t:[],n.cleanUpFunctions.forEach((function(e){return e()}))}var ct={logging:!1,formatObject:function(e){return e}},at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function lt(e){var t;return null!==(t=Xe(e).logName)&&void 0!==t?t:function(e){var t=rt(e);return(t?t.constructor.name+"/":"")+e.constructor.name}(e)}function st(e,t,n,r){var i,o=rt(e),c=o?Ze(o):void 0,a=null!==(i=null===c||void 0===c?void 0:c.ctrStateOverride)&&void 0!==i?i:ft,l=o?function(){return a(o)}:function(){return ut(e)},s=function(e){return(t=e,t.replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase()).toUpperCase();var t}(t),u=lt(e)+"."+s;r?(console.group(u),console.log("%c           args: ","color: gray",n),console.log("%c     state","color: gray",l())):(console.log("%c     next","color: gray",l()),console.groupEnd(u))}function ut(e){return function(e){var t;return Object.keys(null!==(t=$e(e.constructor).loggedMembers)&&void 0!==t?t:{})}(e).reduce((function(t,n){var r;try{var i=ct.formatObject(e[n]);return at(at({},t),((r={})[n]=i,r))}catch(o){return t}}),{})}function ft(e){if(e)return it(e).reduce((function(t,n){var r,i=e[n];return at(at({},t),((r={})[n]=ut(i),r))}),{})}function ht(e,t,n){var r;void 0===n&&(n=void 0);var i=Je(e.constructor);return i.facetMembers=null!==(r=i.facetMembers)&&void 0!==r?r:[],i.facetMembers.push(t),n}function dt(e,t){var n,r,i,o,c,a=null!==(n=t.name)&&void 0!==n?n:e.constructor.name,l=Ze(e);l.facetMembers=null!==(r=l.facetMembers)&&void 0!==r?r:[],l.facetByFacetClassName=null!==(i=l.facetByFacetClassName)&&void 0!==i?i:{},l.ctrStateOverride=t.ctrState,(null!==(c=null!==(o=t.members)&&void 0!==o?o:Je(e.constructor).facetMembers)&&void 0!==c?c:Object.getOwnPropertyNames(e)).forEach((function(n){l.facetMembers.push(n);var r=e[n];!function(e,t){Xe(e).parentContainer=t}(r,e),Xe(r).logName=a+"/"+r.constructor.name;var i=r.constructor.name;void 0!==l.facetByFacetClassName[i]&&console.error("Two facets of same type "+i+" in container "+t.name),l.facetByFacetClassName[i]=r}))}function bt(e,t){var n;if(!t)return function(t){return bt(e,t)};var r=null===(n=Ze(t).facetByFacetClassName)||void 0===n?void 0:n[e.name];return r||console.error("No facet "+e.name+" in container "+t.constructor.name),r}function pt(e){var t=function(t){var n;return bt(e[0],null!==(n=e[2])&&void 0!==n?n:t)[e[1]]};return t.facetClassName=e[0].name,t.facetMemberName=e[1],t}var vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function jt(e,t,n){var r,i=et(e);for(var o in t)(null===(r=null===n||void 0===n?void 0:n.warnIfNotADataMember)||void 0===r||r)&&(i.includes(o)||console.error("Patching a property "+o+" that wasn't decorated with @data, @input or @output in "+lt(e))),delete e[o],Object.defineProperty(e,o,vt(vt({},t[o]),{enumerable:!0,configurable:!0}))}var Ot=function(e,t,n){var r=e[0],i=e[1],o=e[2];return function(e){var c,a=((c={})[i]={get:function(){var c={ctr:null!==o&&void 0!==o?o:e,getter:t,toClassMember:[r,i],data:t(e)};return n?n(c.data):c.data}},c);jt(bt(r,null!==o&&void 0!==o?o:e),a)}},gt=function(e,t,n){var r=e[0],i=e[1],o=e[2];return function(e){var c,a=((c={})[i]={get:function(){var c={ctr:null!==o&&void 0!==o?o:e,getters:t,toClassMember:[r,i],datas:t.map((function(t){return t(e)}))};return n.apply(void 0,c.datas)}},c);jt(bt(r,null!==o&&void 0!==o?o:e),a)}},mt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}l((r=r.apply(e,t||[])).next())}))},yt=function(e,t){var n,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function wt(e,t,n,r){var i,o=n.value,c=$e(e.constructor);return c.operationMemberNames=null!==(i=c.operationMemberNames)&&void 0!==i?i:[],c.operationMemberNames.push(t),"function"===typeof n.value&&(n.value=r.async?function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return mt(this,void 0,void 0,(function(){var i,c,a;return yt(this,(function(l){switch(l.label){case 0:return i=this,(c=ct.logging&&(null===(e=r.log)||void 0===e||e))&&st(i,t,n,!0),[4,o.bind(this).apply(void 0,n)];case 1:return a=l.sent(),c&&st(i,t,n,!1),[2,Promise.resolve(a)]}}))}))}:function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var c=this,a=ct.logging&&(null===(e=r.log)||void 0===e||e);a&&st(c,t,n,!0);var l=o.bind(this).apply(void 0,n);return a&&st(c,t,n,!1),l}),n}function xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=function(t,n,r){return wt(t,n,r,e[0])};return n}var r=e[0],i=e[1],o=e[2];return wt(r,i,o,{})}function St(e,t){e.forEach((function(e){e(t)}))}var Ct={admin:Symbol("skandha-mobx administration")};var Mt=function(e){return function(e,t,n){return e[t]||(e[t]=n()),e[t]}(e,Ct.admin,(function(){return{}}))},It=function(e){var t;it(e).forEach((function(t){var n,r=e[t];try{kt(r)}catch(i){}(null!==(n=Mt(r).effects)&&void 0!==n?n:[]).forEach((function(e){return e()}))}));try{Object(_.h)(e)}catch(n){}(null!==(t=Mt(e).effects)&&void 0!==t?t:[]).forEach((function(e){return e()}))},kt=function(e){Pt(e);try{Object(_.h)(e)}catch(n){}var t={};et(e).forEach((function(n){var r;if(!Object(_.g)(e,n)&&!Object(_.f)(e,n)){var i=null!==(r=Object.getOwnPropertyDescriptor(e,n))&&void 0!==r?r:Object.getOwnPropertyDescriptor(e.constructor.prototype,n);t[n]=!i||i.get?_.c:_.i}}));try{Object(_.h)(e,t)}catch(r){}},Pt=function(e){(function(e){var t;return null!==(t=$e(e.constructor).operationMemberNames)&&void 0!==t?t:[]})(e).forEach((function(t){e[t]=Object(_.b)(e[t])}))};function Ft(e){return e.map((function(e){return e.id}))}var Et=n(35);n(44);var Nt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Dt=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"selectableIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ids",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"anchorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(Re.a)(e,[{key:"selectItem",value:function(e){return function(e){e.selectItem()}}}]),e}();function Rt(e,t){var n=t.itemId,r=t.isShift,i=t.isCtrl,o=e.ids.includes(n),c=e.selectableIds;if(!c)throw Error("logical error");if(r){var a=e.anchorId||n,l=c.indexOf(a),s=c.indexOf(n),u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(Math.min(l,s),1+Math.max(l,s));e.ids=u.map((function(e){return c[e]}))}else e.ids=i?o?e.ids.filter((function(e){return e!==n})):[].concat(Object(Et.a)(e.ids),[n]):[n];e.anchorId&&(i||r)||(e.anchorId=n)}Nt([tt],Dt.prototype,"selectableIds",void 0),Nt([Ye],Dt.prototype,"ids",void 0),Nt([Ye],Dt.prototype,"anchorId",void 0),Nt([nt],Dt.prototype,"items",void 0),Nt([xt,Ve((function(e){return{selectItem:function(){Rt(e,this.selectionParams)}}}))],Dt.prototype,"selectItem",null);var zt=function(e,t){return Ot([Dt,"selectableIds"],e,t)},qt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Lt=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"item",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(Re.a)(e,[{key:"highlightItem",value:function(e){var t=this;return function(n){t.id=e,Qe(n.scrollItemIntoView).bind(n)()}}}]),e}();qt([Ye],Lt.prototype,"id",void 0),qt([nt],Lt.prototype,"item",void 0),qt([xt,Ve],Lt.prototype,"highlightItem",null);var _t=function(e){return gt([Lt,"item"],[e,pt([Lt,"id"])],(function(e,t){return e[t]}))},Kt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Gt=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"isEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:function(){return[]}}),Object.defineProperty(this,"inputItems",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(Re.a)(e,[{key:"filteredItems",get:function(){return this.isEnabled?this.filter(this.inputItems):this.inputItems}},{key:"apply",value:function(e){var t=this;return function(n){t.filter=e,t.setEnabled(!0)}}},{key:"setEnabled",value:function(e){var t=this;return function(n){t.isEnabled=e}}}]),e}();Kt([Ye],Gt.prototype,"isEnabled",void 0),Kt([Ye],Gt.prototype,"filter",void 0),Kt([Ye],Gt.prototype,"inputItems",void 0),Kt([Ye],Gt.prototype,"filteredItems",null),Kt([xt,Ve],Gt.prototype,"apply",null),Kt([xt,Ve],Gt.prototype,"setEnabled",null);var Bt="<topOfTheList>";function Tt(e,t,n,r){var i=t==Bt?void 0:t;return r.length?e.reduce((function(e,t){return t.id===i&&n&&e.push.apply(e,Object(Et.a)(r)),r.find((function(e){return e.id===t.id}))||e.push(t),t.id!==i||n||e.push.apply(e,Object(Et.a)(r)),e}),i?[]:Object(Et.a)(r)):e}var Vt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},At=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"inputItems",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"preview",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(Re.a)(e,[{key:"insertItems",value:function(e){var t=this;return function(n){if(t.inputItems){var r=Tt(t.inputItems,e.targetItemId,e.isBefore,e.payload);n.insertItems(r)}}}}]),e}();Vt([tt],At.prototype,"inputItems",void 0),Vt([nt],At.prototype,"preview",void 0),Vt([xt,Ve],At.prototype,"insertItems",null);function Ut(e,t){var n=t.itemId,r=t.isShift,i=t.isCtrl,o=rt(e);i||r||bt(Lt,o).highlightItem(n)}var Qt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Ht=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"item",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(Re.a)(e,[{key:"add",value:function(e){var t=this;return function(e){Qe(e.storeLocation).bind(e)(),t.item=e.createItem(),Qe(e.highlightNewItem).bind(e)()}}},{key:"confirm",value:function(){var e=this;return function(t){t.confirm(),e._reset()}}},{key:"cancel",value:function(){var e=this;return function(t){e._reset(),Qe(t.restoreLocation).bind(t)()}}},{key:"_reset",value:function(){this.item=void 0,this.parentId=void 0}}]),e}();Qt([Ye],Ht.prototype,"item",void 0),Qt([Ye],Ht.prototype,"parentId",void 0),Qt([xt,Ve],Ht.prototype,"add",null),Qt([xt,Ve],Ht.prototype,"confirm",null),Qt([xt,Ve],Ht.prototype,"cancel",null);var Wt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Jt=function(){function e(){Object(De.a)(this,e),Object.defineProperty(this,"isEditing",{enumerable:!0,configurable:!0,writable:!0,value:!1})}return Object(Re.a)(e,[{key:"save",value:function(e){var t=this;return function(e){e.saveItem(),t.isEditing=!1,Qe(e.refreshView).bind(e)()}}},{key:"cancel",value:function(){var e=this;return function(t){e.isEditing=!1}}},{key:"enable",value:function(){var e=this;return function(t){e.isEditing=!0}}}]),e}();Wt([Ye],Jt.prototype,"isEditing",void 0),Wt([xt,Ve],Jt.prototype,"save",null),Wt([xt,Ve],Jt.prototype,"cancel",null),Wt([xt,Ve],Jt.prototype,"enable",null);var Zt,$t,Xt,Yt,en,tn,nn,rn,on,cn,an,ln,sn,un=n(94),fn=function(e){return e[Math.floor(Math.random()*Object(w.size)(e))]},hn=function(e,t){return 0===t?e:t>0?w.flow.apply(void 0,[Object(w.always)(e)].concat(Object(Et.a)(Object(w.times)(Object(w.constant)((function(e){for(var t=e[e.length-1],n=Object(w.take)(1,e),r=Object(w.takeRight)(Object(w.size)(e)-1,e);n[0]<=t;)n[0]+=12;return Object(w.concat)(r,n)})),t))))():w.flow.apply(void 0,[Object(w.always)(e)].concat(Object(Et.a)(Object(w.times)(Object(w.constant)((function(e){for(var t=e[0],n=Object(w.takeRight)(1,e),r=Object(w.take)(Object(w.size)(e)-1,e);n[0]>=t;)n[0]-=12;return Object(w.concat)(n,r)})),Math.abs(t)))))()},dn=function(e){for(var t=0,n=0,r=e.length;hn(e,n+1)[r-1]<48;)n+=1;for(;hn(e,t-1)[0]>=0;)t-=1;return[t,n]},bn=function(e,t,n){var r=D(n),i=k[t];return Object(w.flow)(Object(w.always)(e.chord),Object(w.map)(Object(w.add)(r+i)))()},pn=function(e,t){for(var n=fn(e),r=Object(w.sumBy)((function(e){return e.voicings.length}))(t),i=Math.floor(Math.random()*r),o=0,c=t[0].voicings.length;i>=c;)c+=t[o+=1].voicings.length;var a=t[o],l=a.voicings[i-(c-a.voicings.length)];return{clef:n,group:a,voicing:l,inversion:function(e,t){var n=e.chord.length,r=dn(bn(e,t,1)),i=Object(un.a)(r,2),o=i[0],c=i[1],a=Object(w.range)(o,c+1).filter((function(t){return!1!==e.inversions[x(t,n)]}));if(0===a.length)return 0;for(var l=fn(a);l+n<=c&&Math.abs(l)>Math.abs(l+n);)l+=n;for(;l-n>=o&&Math.abs(l)>Math.abs(l-n);)l-=n;return l}(l,n)}},vn=(Zt=function e(){Object(De.a)(this,e),Object(Ne.a)(this,"groups",$t,this),Object(Ne.a)(this,"clefs",Xt,this)},$t=Object(ze.a)(Zt.prototype,"groups",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xt=Object(ze.a)(Zt.prototype,"clefs",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt),jn=(Yt=function(){function e(){Object(De.a)(this,e),Object(Ne.a)(this,"clefsDisplay",en,this),Object(Ne.a)(this,"groupsDisplay",tn,this)}return Object(Re.a)(e,[{key:"groupById",get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return e.forEach((function(e){n[e[t]]=e})),n}(this.groupsDisplay)}}]),e}(),en=Object(ze.a)(Yt.prototype,"clefsDisplay",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tn=Object(ze.a)(Yt.prototype,"groupsDisplay",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ze.a)(Yt.prototype,"groupById",[_.c],Object.getOwnPropertyDescriptor(Yt.prototype,"groupById"),Yt.prototype),Yt),On=(nn=function(){function e(t){Object(De.a)(this,e),this.props=void 0,Object(Ne.a)(this,"query",rn,this),Object(Ne.a)(this,"nextQuery",on,this),Object(Ne.a)(this,"inputs",cn,this),Object(Ne.a)(this,"outputs",an,this),this.clefs={selection:new Dt,highlight:new Lt},this.groups={selection:new Dt,highlight:new Lt},this.props=t,dt(this,{}),Object(_.h)(this),dt(this.clefs,{name:"Clefs"}),this._setClefsCallbacks(t),this._applyClefsPolicies(t),It(this.clefs),dt(this.groups,{name:"Groups"}),this._setGroupsCallbacks(t),this._applyGroupsPolicies(t),It(this.groups);var n=function(e){var t=function(t){e.query&&"PreselectionStore.selectClef"===t.topic&&(e.query.clef=t.details.clefLetter+(t.details.isSharpening?"#":t.details.isFlattening?"b":""),e.props.clefStore.setClef(e.query.clef))};return e.props.preselectionStore.signal.add(t),function(){return e.props.preselectionStore.signal.remove(t)}}(this);!function(e,t){var n,r=Ze(e);r.cleanUpFunctions=null!==(n=r.cleanUpFunctions)&&void 0!==n?n:[],r.cleanUpFunctions.push(t)}(this.clefs,n)}return Object(Re.a)(e,[{key:"_setClefsCallbacks",value:function(e){var t=this.clefs;Ae(t.selection,{selectItem:{selectItem:function(){Rt(t.selection,this.selectionParams),Ut(t.selection,this.selectionParams)}}}),Ae(t.highlight,{})}},{key:"_setGroupsCallbacks",value:function(e){var t=this.groups;Ae(t.selection,{selectItem:{selectItem:function(){Rt(t.selection,this.selectionParams),Ut(t.selection,this.selectionParams)}}}),Ae(t.highlight,{})}},{key:"_applyClefsPolicies",value:function(e){var t=[jn,"clefsDisplay",this];St([Ot(t,pt([vn,"clefs",this])),zt(pt(t))],this.clefs)}},{key:"_applyGroupsPolicies",value:function(e){var t,n=[jn,"groupsDisplay",this],r=[jn,"groupById",this];St([Ot(n,pt([vn,"groups",this])),zt(pt(n),Ft),(t=pt(r),gt([Dt,"items"],[t,pt([Dt,"ids"])],(function(e,t){return n=e,t.map((function(e){return n[e]}));var n}))),_t(pt(r))],this.groups)}},{key:"destroy",value:function(){ot(this.clefs),ot(this.groups)}},{key:"setClefs",value:function(e){this.inputs.clefs=e,this.clefs.selection.ids=e}},{key:"setGroups",value:function(e){this.inputs.groups=e,this.groups.selection.ids=Ft(e)}},{key:"pickRandomChord",value:function(){var e,t,n;this.query=null!==(e=this.nextQuery)&&void 0!==e?e:pn(this.clefs.selection.ids,null!==(t=this.groups.selection.items)&&void 0!==t?t:[]),this.nextQuery=pn(this.clefs.selection.ids,null!==(n=this.groups.selection.items)&&void 0!==n?n:[]),this.query&&(this.props.clefStore.setClef(this.query.clef),this.props.voicingStore.setVoicing(this.query.voicing),this.props.voicingStore.setInversion(this.query.inversion))}}]),e}(),rn=Object(ze.a)(nn.prototype,"query",[_.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=Object(ze.a)(nn.prototype,"nextQuery",[_.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=Object(ze.a)(nn.prototype,"inputs",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new vn}}),an=Object(ze.a)(nn.prototype,"outputs",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new jn}}),Object(ze.a)(nn.prototype,"setClefs",[_.b],Object.getOwnPropertyDescriptor(nn.prototype,"setClefs"),nn.prototype),Object(ze.a)(nn.prototype,"setGroups",[_.b],Object.getOwnPropertyDescriptor(nn.prototype,"setGroups"),nn.prototype),Object(ze.a)(nn.prototype,"pickRandomChord",[_.b],Object.getOwnPropertyDescriptor(nn.prototype,"pickRandomChord"),nn.prototype),nn),gn=[{id:"minor",name:"minor",voicings:[{id:"Min6+9",name:"Min6+9",chord:["flat3","fifth","ninth","thirteenth"],inversions:[!0,!0,!0,!0]},{id:"Min7+9",name:"Min7+9",chord:["flat3","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"\xf8+9",name:"\xf8+9",chord:["flat3","flat5","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"MinMaj+9",name:"MinMaj+9",chord:["flat3","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Min6",name:"Min6",chord:["flat3","fifth","thirteenth"],inversions:[!0,!0,!0]},{id:"Min7",name:"Min7",chord:["flat3","fifth","flat7"],inversions:[!0,!0,!0]},{id:"\xf8",name:"\xf8",chord:["flat3","flat5","flat7"],inversions:[!0,!0,!0]},{id:"Min",name:"Min",chord:["flat3","fifth"],inversions:[!0,!0]},{id:"MinMaj",name:"MinMaj",chord:["flat3","fifth","seventh"],inversions:[!0,!0,!0]}]},{id:"fourths",name:"fourths",voicings:[{id:"SoWhat",name:"SoWhat",chord:["root","fourth","flat7","flat3","fifth"],inversions:[!1,!0,!1,!1,!1,!1]}]},{id:"major",name:"major",voicings:[{id:"Maj6+9",name:"Maj6+9",chord:["third","sixth","ninth"],inversions:[!0,!0,!0]},{id:"Maj7+9",name:"Maj7+9",chord:["third","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Maj6",name:"Maj6",chord:["third","sixth"],inversions:[!0,!0]},{id:"Maj7",name:"Maj7",chord:["third","fifth","seventh"],inversions:[!0,!0,!0]},{id:"Maj",name:"Maj",chord:["third","fifth"],inversions:[!0,!0]}]},{id:"dominant",name:"dominant",voicings:[{id:"7+13",name:"7+13",chord:["third","flat7","thirteenth"]},{id:"7+9",name:"7+9",chord:["third","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"7+b13",name:"7+b13",chord:["third","flat7","flat13"],inversions:[!0,!0,!0]},{id:"7+9+b13",name:"7+9+b13",chord:["third","flat7","ninth","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b5",name:"7+b5",chord:["third","flat5","flat7"],inversions:[!0,!0,!0]},{id:"7+b5+b13",name:"7+b5+b13",chord:["third","flat5","flat7","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b9",name:"7+b9",chord:["third","fifth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+13",name:"7+b9+13",chord:["third","thirteenth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+b13",name:"7+b9+b13",chord:["third","flat13","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7",name:"7",chord:["third","fifth","flat7"],inversions:[!0,!0,!0]}]}],mn=function(e){var t=Rn(),n=t.groupsStore,r=t.clefStore,i=t.voicingStore,o=t.preselectionStore,c=ke(gn),a=Object(_.b)((function(){var e=new On({groupsStore:n,clefStore:r,voicingStore:i,preselectionStore:o});return e.setClefs(I),e.setGroups(c),e}));return Object(d.jsx)(m,{createCtr:a,updateCtr:function(e){Object(_.j)((function(){return{}}),(function(e){}),{fireImmediately:!0})},destroyCtr:function(e){return e.destroy()},getDefaultProps:function(e){return{quizState:function(){return e},clefs:function(){return e.outputs.clefsDisplay},clefsSelection:function(){return e.clefs.selection},clefsHighlight:function(){return e.clefs.highlight},clef:function(){return e.clefs.highlight.item},groups:function(){return e.outputs.groupsDisplay},groupsSelection:function(){return e.groups.selection},groupsHighlight:function(){return e.groups.highlight},group:function(){return e.groups.highlight.item}}},children:e.children})},yn=Object(u.a)(),wn=Object(s.a)((function(e){return Object(d.jsx)(l.b,{history:yn,children:Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{path:"",children:Object(d.jsx)(mn,{children:Object(d.jsx)(Ee,{})})})})})}));function xn(){return Object(d.jsx)("div",{className:"App w-screen",children:Object(d.jsx)("header",{className:"App__Header",children:Object(d.jsx)(wn,{})})})}var Sn,Cn,Mn=(ln=function(){function e(){Object(De.a)(this,e),Object(Ne.a)(this,"groupById",sn,this),Object(_.h)(this)}return Object(Re.a)(e,[{key:"loadGroups",value:function(){}}]),e}(),sn=Object(ze.a)(ln.prototype,"groupById",[_.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ln),In=n(93),kn=function e(){var t=this;Object(De.a)(this,e),this.signal=new In.Signal,this.clefLetter=void 0,this.isSharpening=void 0,this.isFlattening=void 0,this.setClefLetter=function(e){return t.clefLetter=e},this.setIsSharpening=function(e){return t.isSharpening=e},this.setIsFlattening=function(e){return t.isFlattening=e},this.reset=function(){t.clefLetter&&t.signal.dispatch({topic:"PreselectionStore.selectClef",details:{clefLetter:t.clefLetter,isSharpening:t.isSharpening,isFlattening:t.isFlattening}}),t.setIsFlattening(!1),t.setIsSharpening(!1),t.setClefLetter(void 0)},Object(_.h)(this,{clefLetter:_.i,isSharpening:_.i,isFlattening:_.i,setClefLetter:_.b,setIsSharpening:_.b,setIsFlattening:_.b,reset:_.b})},Pn=Ce({id:"Chromatic",name:"Chromatic",chord:["root","flat9","ninth","flat3","third","fourth","flat5","fifth","flat6","sixth","flat7","seventh"]}),Fn=function(){function e(){var t=this;Object(De.a)(this,e),this.clef="C",this.inversion=0,this.voicing=Pn,this.setInversion=function(e){t.inversion=Object(w.clamp)(t.inversionRange[0],t.inversionRange[1])(e)},this.setVoicing=function(e){t.voicing=e},Object(_.h)(this,{clef:_.i,inversion:_.i,voicing:_.i,chord:_.c,nrOfVoices:_.c,inversionRange:_.c,setInversion:_.b,setVoicing:_.b})}return Object(Re.a)(e,[{key:"inversionRange",get:function(){return dn(bn(this.voicing,this.clef,1))}},{key:"nrOfVoices",get:function(){return Object(w.size)(this.voicing.chord)}},{key:"chord",get:function(){return this.clef?hn(bn(this.voicing,this.clef,1),this.inversion):void 0}}]),e}(),En=function(){function e(){var t=this;Object(De.a)(this,e),this.clefLetter="C",this.clefSharp=!1,this.clefFlat=!1,this.setClefLetter=function(e){t.clefLetter=e},this.setClefSharp=function(e){t.clefSharp=e,e&&(t.clefFlat=!1)},this.setClefFlat=function(e){t.clefFlat=e,e&&(t.clefSharp=!1)},Object(_.h)(this,{clefLetter:_.i,clefSharp:_.i,clefFlat:_.i,setClefLetter:_.b,setClefSharp:_.b,setClefFlat:_.b,clef:_.c})}return Object(Re.a)(e,[{key:"clef",get:function(){return this.clefLetter+(this.clefSharp?"#":this.clefFlat?"b":"")}},{key:"setClef",value:function(e){var t=e[0];this.setClefLetter(t);var n=e[1];this.setClefFlat("b"==n),this.setClefSharp("#"==n)}}]),e}(),Nn=new(Sn=function(){function e(){Object(De.a)(this,e),Object(Ne.a)(this,"groupsStore",Cn,this),this.voicingStore=new Fn,this.clefStore=new En,this.preselectionStore=new kn,Object(_.h)(this,{voicingStore:_.i,clefStore:_.i,preselectionStore:_.i}),this.groupsStore=new Mn,this.applyPolicies()}return Object(Re.a)(e,[{key:"applyPolicies",value:function(){var e;e=this,Object(_.j)((function(){return e.clefStore.clef}),(function(t){e.voicingStore.clef=t}),{fireImmediately:!0})}}]),e}(),Cn=Object(ze.a)(Sn.prototype,"groupsStore",[_.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn),Dn=o.a.createContext(Nn),Rn=function(){var e=o.a.useContext(Dn);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},zn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(xn,{})}),document.getElementById("root")),zn()},70:function(e,t,n){}},[[185,1,2]]]);
//# sourceMappingURL=main.43a2e67c.chunk.js.map