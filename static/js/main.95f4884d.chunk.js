(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var i,r=n(0),c=n.n(r),o=n(32),s=n.n(o),a=(n(112),n(113),n(200)),l=n(6),u=n(38),h=n(20),f=n.n(h),b=(n(114),n(1)),j=Object(l.a)((function(e){return Object(b.jsxs)("div",{className:f()("QuizFrame flex flex-col"),children:[Object(b.jsx)(Se,{}),Object(b.jsx)("div",{className:f()("QuizFrame__MidSection flex flex-row"),children:e.children})]})})),d=n(23),p=(n(82),n(4)),O=function(e,t){return Object(p.isInteger)(e)?!Object(p.isInteger)(t)||t<1?NaN:(e%t+t)%t:NaN},v={0:"root",1:"flat nine",2:"nine",3:"flat third",4:"third",5:"fourth/eleventh",6:"tritone",7:"fifth",8:"flat thirteen",9:"thirteenth",10:"flat seven",11:"seven"},g={root:0,"flat nine":1,flat9:1,nine:2,ninth:2,"flat third":3,flat3:3,third:4,fourth:5,eleven:5,eleventh:5,sharp4:6,flat5:6,sharp11:6,"sharp fourth":6,"sharp eleventh":6,fifth:7,"flat thirteen":8,flat6:8,flat13:8,six:9,sixth:9,thirteen:9,thirteenth:9,flat7:10,"flat seven":10,seven:11,seventh:11},m=n(16),y=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],x=(i={},Object(m.a)(i,"Cb",11),Object(m.a)(i,"C",0),Object(m.a)(i,"C#",1),Object(m.a)(i,"Db",1),Object(m.a)(i,"D",2),Object(m.a)(i,"D#",3),Object(m.a)(i,"Eb",3),Object(m.a)(i,"E",4),Object(m.a)(i,"E#",5),Object(m.a)(i,"Fb",4),Object(m.a)(i,"F",5),Object(m.a)(i,"F#",6),Object(m.a)(i,"Gb",6),Object(m.a)(i,"G",7),Object(m.a)(i,"G#",8),Object(m.a)(i,"Ab",8),Object(m.a)(i,"A",9),Object(m.a)(i,"A#",10),Object(m.a)(i,"Bb",10),Object(m.a)(i,"B",11),Object(m.a)(i,"B#",0),i),w=["C","D","E","F","G","A","B"],S=[0,2,4,5,7,9,11],C=[1,3,6,8,10],k=function(e){return Object(p.includes)(e,S)},M=function(e){return 12*e},I=function(e){return O(e,12)},F=function(e){var t=O(e.inversion,e.voicing.chord.length),n=I(e.voicing.chord[t]),i=v[n];return"".concat(e.clef," ").concat(e.voicing.name," from ")+"".concat(i)},N=(n(120),Object(l.a)((function(e){var t;return Object(b.jsx)("div",{className:"VoicingTitle",children:(null!==(t=e.label)&&void 0!==t?t:"")+(e.query?F(e.query):"")})}))),q=(n(121),Object(l.a)((function(e){return Object(b.jsxs)("div",{className:f()("GroupsFrame flex flex-col"),children:[Object(b.jsx)(q,{}),Object(b.jsxs)("div",{className:f()("GroupsFrame__MidSection flex flex-row"),children:[Object(b.jsx)(K,{}),e.children]})]})})),n(122),Object(l.a)((function(){return Object(b.jsx)("div",{className:f()("GroupsFrameTopPanel")})}))),z=n(3),D=n(42),E=n(107),P=n(101),L=n(100),_=Object(l.a)((function(e){var t=e.isMulti,n=e.isCreatable,i=e.pickableValue,r=e.pickableValues,c=e.labelFromValue,o=Object(E.a)(e,["isMulti","isCreatable","pickableValue","pickableValues","labelFromValue"]),s=function(e){return e.__isNew__?e:{value:e,label:c(e)}},a=r.map(s),l=Object(D.a)({isMulti:t,options:a,value:Object(p.isNil)(i)?void 0:t?i.map(s):s(i),onKeyDown:function(e){o.onKeyDown&&o.onKeyDown(e)}},o),u=n?Object(b.jsx)(L.a,Object(D.a)({},l)):Object(b.jsx)(P.a,Object(D.a)({},l));return Object(b.jsx)("div",{style:{zIndex:o.zIndex},children:u})})),G=(n(137),Object(l.a)((function(e){var t=Object(d.b)(e),n=Object(z.b)((function(e){var n,i=null!==(n=e)&&void 0!==n?n:[];t.groupsSelection.ids=i.map((function(e){return e.value.id}))}));return Object(b.jsx)("div",{className:f()("GroupPicker",t.className),children:Object(b.jsx)(_,{isMulti:!0,isCreatable:!1,pickableValues:t.groups,labelFromValue:function(e){return e.name},pickableValue:t.groupsSelection.items,onChange:n})})}))),K=(n(138),Object(l.a)((function(){return Object(b.jsx)("div",{className:f()("GroupsFrameLeftPanel")})}))),R=n(108),T=(Object(l.a)((function(e){var t=e.f;return Object(R.a)((function(){return t()}),[t]),Object(b.jsx)(c.a.Fragment,{})})),"RESET"),V="UPDATING",B="ERRORED",A="UPDATED",Q=function(){return{type:V,updating_state:{type:"LOADING"}}},H=(Object(z.b)((function(e,t,n,i,r){return e[t]=Q(),n().then(Object(z.b)((function(n){i(n),e[t]={type:A}}))).catch(Object(z.b)((function(n){var i;e[t]=(i=r?r(n):"Could not load ".concat(t),{type:B,message:i})})))})),function(e){return Object(b.jsxs)("div",{children:["Error",void 0!==e&&": ".concat(e)]})}),W=function(){return Object(b.jsx)("div",{children:"Loading..."})},J=(Object(l.a)((function(e){var t,n,i=null!==(t=e.renderErrored)&&void 0!==t?t:H,r=null!==(n=e.renderUpdating)&&void 0!==n?n:W;return e.rs.type===A?function(){try{return e.renderUpdated()}catch(t){return i(t.message)}}():function(e){return e.type===B}(e.rs)?i(e.rs.message):function(e){return e.type===V}(e.rs)?r(e.rs.updating_state):function(e){return e.type===T}(e.rs)?Object(b.jsx)(c.a.Fragment,{}):function(){throw Error("Received unrecognized resource state ".concat(e.rs))}()})),n(40)),U=n(33),X=n.n(U),Y=n(103),Z=n.n(Y),$=new(window.AudioContext||window.webkitAudioContext),ee=new Z.a($),te=Object(l.a)((function(e){var t=Object(d.b)(e),n=xt().voicingStore;return Object(b.jsx)(X.a,{handleKeys:["ctrl+left","ctrl+right"],onKeyEvent:function(e,i){"ctrl+right"===e&&(n.setInversion(n.inversion+1),t.quizState.query&&(t.quizState.query.inversion=n.inversion)),"ctrl+left"===e&&(n.setInversion(n.inversion-1),t.quizState.query&&(t.quizState.query.inversion=n.inversion))},children:Object(b.jsx)(X.a,{handleKeys:["p"],onKeyEvent:function(e,t){var i,r;i=n.chord,r=n.clef,Object(p.forEach)((function(e){return ee.playNote(e+48,1,1,0)}),i),ee.playNote(x[r]+36,1,1,0)},children:t.children})})})),ne=Object(l.a)((function(e){var t=e.children,n=xt().preselectionStore;return Object(b.jsx)(X.a,{handleKeys:["up","down"],handleEventType:"keydown",onKeyEvent:function(e,t){n.setIsSharpening("up"===e),n.setIsFlattening("down"===e)},children:Object(b.jsx)(X.a,{handleKeys:["up","down"],handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),ie=Object(l.a)((function(e){var t=e.children,n=xt().preselectionStore;return Object(b.jsx)(X.a,{handleKeys:w,handleEventType:"keydown",onKeyEvent:function(e,t){n.setClefLetter(e)},children:Object(b.jsx)(X.a,{handleKeys:w,handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),re={0:"#aaaaaa",1:"#fa9835-striped",2:"#fa9835",3:"#40d530-striped",4:"#40d530",5:"#fee449",6:"#f53311-striped",7:"#f53311",8:"#38baf2-striped",9:"#38baf2",10:"#ff99ff-striped",11:"#ff99ff"};var ce=Object(l.a)((function(e){var t=Math.floor(e.height/4.25);return e.isStriped?Object(p.flow)(Object(p.always)(Object(p.range)(0,t)),Object(p.map)((function(t){var n=Math.floor(t/2),i=t-n,r=t%2==0,c=e.y+5*i+3.5*n,o=r?5:3.5;return Object(b.jsx)(J.b,{x:e.x+1,y:c,fill:r?e.fill:e.backgroundColour,width:e.width-2,height:o,strokeWidth:0,opacity:1},t)})))():[Object(b.jsx)(J.b,{x:e.x+1,y:e.y,fill:e.fill,width:e.width-2,height:e.height,strokeWidth:0,opacity:1},0)]})),oe={width:50,height:250,fill:"#FFFFFF",markerHeight:56},se={width:25,height:160,fill:"#444444",markerHeight:100},ae=Object(p.flow)(Object(p.always)(Object(p.range)(0,7)),Object(p.map)((function(e){return e*oe.width})))(),le=function(e){return e*se.width},ue=[ae[1]-le(.66),ae[2]-le(.33),ae[4]-le(.7),ae[5]-le(.5),ae[6]-le(.3)],he=Object(l.a)((function(e){var t=k(e.index),n=t?oe:se,i=t?3:2,r=7*e.octaveIndex*oe.width+function(e){var t=k(e),n=t?S:C;return(t?ae:ue)[Object(p.indexOf)(e,n)]}(e.index);return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)(J.b,{x:r,y:0,fill:n.fill,stroke:"#000000",opacity:1,width:n.width,height:n.height}),Object(b.jsx)(ce,{x:r+2,y:0+n.height-n.markerHeight-i,height:n.markerHeight,width:n.width-4,fill:e.markerColour,isStriped:e.markerIsStriped,backgroundColour:n.fill})]})})),fe=Object(l.a)((function(e){var t=Object(p.concat)(S,C),n=Object(p.flow)(Object(p.always)(t),Object(p.map)(Object(p.add)(M(e.index))),Object(p.map)((function(t){var n=I(t),i=function(e,t,n){var i=Object(p.includes)(e,n)?re[I(e-x[t])]:void 0,r=!(!i||!i.endsWith("-striped"));return{colour:r?Object(p.split)("-striped",i)[0]:i,isStriped:r}}(t,e.clef,e.chord),r=i.colour,c=i.isStriped;return Object(b.jsx)(he,{index:n,octaveIndex:e.index,markerColour:r,markerIsStriped:c},t)})))();return Object(b.jsx)(J.a,{children:n})})),be=Object(l.a)((function(e){var t=Object(d.b)(e);return Object(b.jsx)(X.a,{handleKeys:["space","enter"],onKeyEvent:function(e,n){t.quizState.pickRandomChord()},children:t.children})})),je=Object(l.a)((function(e){var t=Object(d.b)(e),n=xt(),i=n.voicingStore,r=n.clefStore,c=Object(p.flow)(Object(p.always)(Object(p.range)(0,4)),Object(p.map)((function(e){return Object(b.jsx)(fe,{index:e,clef:r.clef,chord:i.chord},e)})))();return Object(b.jsx)("div",{className:"Keyboard__frame",onClick:t.onClick,children:Object(b.jsx)(be,{children:Object(b.jsx)(ie,{children:Object(b.jsx)(ne,{children:Object(b.jsx)(te,{children:Object(b.jsx)("div",{tabIndex:0,children:Object(b.jsx)(J.c,{width:1400,height:250,children:c})})})})})})})})),de=(n(177),Object(l.a)((function(e){var t=Object(d.b)(e),n=Object(p.flow)(Object(p.always)(t.clefs),Object(p.map)((function(e){return Object(b.jsx)(pe,{clef:e,className:f()({"ClefListViewItem--selected":t.clefsSelection.ids.includes(e)},t.className),onMouseDown:function(n){t.clefsSelection.selectItem({itemId:e,isShift:!1,isCtrl:!0})}},e)})))(),i=Object(b.jsx)("h2",{children:"There are no clefs"});return Object(b.jsxs)("div",{className:"ClefListView flex flex-row w-full",children:[n.length&&n,!n.length&&i]})}))),pe=(n(178),Object(l.a)((function(e){return Object(b.jsx)("div",{className:f()("ClefListViewItem flex-1",e.className),onMouseDown:e.onMouseDown,children:e.clef})}))),Oe=n(43),ve=n.n(Oe),ge=function(e){for(var t=Object(D.a)(Object(D.a)({},e),{},{chord:Object(p.map)((function(e){var t=g[e];return void 0===t&&console.log("Error: unknown note ".concat(e)),t}),e.chord)}),n=1;n<t.chord.length;++n)for(;t.chord[n]<=t.chord[n-1];)t.chord[n]+=12;return t},me=function(e){return Object(D.a)(Object(D.a)({},e),{},{voicings:Object(p.map)(ge,e.voicings)})},ye={data:null},xe=function(e){return ye.data=e,Object(p.map)(me,e)},we=(n(188),n(189),n(190),Object(l.a)((function(e){var t=Object(d.b)(e);return Object(b.jsxs)(ve.a,{onSelect:function(e){1===e&&navigator.clipboard.writeText(JSON.stringify(ye.data,null,2)),2===e&&window.open("https://twitter.com/intent/tweet?url=www.brainpiano.ai&hashtags=BrainPiano"),3===e&&navigator.clipboard.readText().then((function(e){t.quizState.setGroups(xe(JSON.parse(e)))}))},autoOpen:!0,pullRight:!0,children:[Object(b.jsx)(ve.a.Toggle,{btnSize:"lg",btnStyle:"flat",children:"IO"}),Object(b.jsxs)(ve.a.Menu,{children:[Object(b.jsx)(Oe.MenuItem,{eventKey:1,children:"Export"}),Object(b.jsx)(Oe.MenuItem,{divider:!0}),Object(b.jsx)(Oe.MenuItem,{eventKey:2,children:"Tweet"}),Object(b.jsx)(Oe.MenuItem,{divider:!0}),Object(b.jsx)(Oe.MenuItem,{eventKey:3,children:"Import"})]})]})}))),Se=(n(191),Object(l.a)((function(e){var t=Object(d.b)(e),n=Object(b.jsx)("button",{onClick:function(){return window.open("https://github.com/mnieber/brainpiano#brainpiano")},children:"Help"});return Object(b.jsxs)("div",{className:f()("QuizFrameTopPanel mb-4"),children:[Object(b.jsxs)("div",{className:"QuizFrameTopPanel__firstRow mb4 flex flex-row justify-between",children:[Object(b.jsx)(N,{query:t.quizState.query}),n,Object(b.jsx)(N,{label:t.quizState.nextQuery?"Next: ":"Welcome to BrainPiano!",query:t.quizState.nextQuery})]}),Object(b.jsx)(G,{className:"flex-1"}),Object(b.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[Object(b.jsx)(de,{className:"flex-1"}),Object(b.jsx)(we,{})]})]})}))),Ce=Object(l.a)((function(e){var t=Object(d.b)(e),n=c.a.useMemo((function(){return function(){return t.quizState.pickRandomChord()}}),[t.quizState]);return Object(b.jsx)(j,{children:Object(b.jsx)(je,{onClick:n})})})),ke=n(26),Me=n(13),Ie=n(15),Fe=n(21),Ne=(n(54),n(14)),qe=n(2),ze=n(80);function De(e){return e.map((function(e){return e.id}))}var Ee,Pe,Le,_e,Ge,Ke,Re,Te,Ve,Be,Ae,Qe,He,We=n(60),Je=n(79),Ue=n(35),Xe=n(28),Ye=n(106),Ze=function(e){return e[Math.floor(Math.random()*Object(p.size)(e))]},$e=n(41),et=function(e,t){return 0===t?e:t>0?p.flow.apply(void 0,[Object(p.always)(e)].concat(Object($e.a)(Object(p.times)(Object(p.constant)((function(e){for(var t=e[e.length-1],n=Object(p.take)(1,e),i=Object(p.takeRight)(Object(p.size)(e)-1,e);n[0]<=t;)n[0]+=12;return Object(p.concat)(i,n)})),t))))():p.flow.apply(void 0,[Object(p.always)(e)].concat(Object($e.a)(Object(p.times)(Object(p.constant)((function(e){for(var t=e[0],n=Object(p.takeRight)(1,e),i=Object(p.take)(Object(p.size)(e)-1,e);n[0]>=t;)n[0]-=12;return Object(p.concat)(n,i)})),Math.abs(t)))))()},tt=function(e){for(var t=0,n=0,i=e.length;et(e,n+1)[i-1]<48;)n+=1;for(;et(e,t-1)[0]>=0;)t-=1;return[t,n]},nt=function(e,t,n){var i=M(n),r=x[t];return Object(p.flow)(Object(p.always)(e.chord),Object(p.map)(Object(p.add)(i+r)))()},it=function(e,t){for(var n=Ze(e),i=Object(p.sumBy)((function(e){return e.voicings.length}))(t),r=Math.floor(Math.random()*i),c=0,o=t[0].voicings.length;r>=o;)o+=t[c+=1].voicings.length;var s=t[c],a=s.voicings[r-(o-s.voicings.length)];return{clef:n,group:s,voicing:a,inversion:function(e,t){var n=e.chord.length,i=tt(nt(e,t,1)),r=Object(Ye.a)(i,2),c=r[0],o=r[1],s=Object(p.range)(c,o+1).filter((function(t){return!1!==e.inversions[O(t,n)]}));if(0===s.length)return 0;for(var a=Ze(s);a+n<=o&&Math.abs(a)>Math.abs(a+n);)a+=n;for(;a-n>=c&&Math.abs(a)>Math.abs(a-n);)a-=n;return a}(a,n)}},rt=(Ee=function e(){Object(Me.a)(this,e),Object(ke.a)(this,"groups",Pe,this),Object(ke.a)(this,"clefs",Le,this)},Pe=Object(Fe.a)(Ee.prototype,"groups",[qe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=Object(Fe.a)(Ee.prototype,"clefs",[qe.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee),ct=(_e=function(){function e(){Object(Me.a)(this,e),Object(ke.a)(this,"clefsDisplay",Ge,this),Object(ke.a)(this,"groupsDisplay",Ke,this)}return Object(Ie.a)(e,[{key:"groupById",get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return e.forEach((function(e){n[e[t]]=e})),n}(this.groupsDisplay)}}]),e}(),Ge=Object(Fe.a)(_e.prototype,"clefsDisplay",[qe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ke=Object(Fe.a)(_e.prototype,"groupsDisplay",[qe.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Fe.a)(_e.prototype,"groupById",[z.c],Object.getOwnPropertyDescriptor(_e.prototype,"groupById"),_e.prototype),_e),ot=(Re=function(){function e(t){Object(Me.a)(this,e),this.props=void 0,Object(ke.a)(this,"query",Te,this),Object(ke.a)(this,"nextQuery",Ve,this),Object(ke.a)(this,"inputs",Be,this),Object(ke.a)(this,"outputs",Ae,this),this.clefs={selection:new Ue.a,highlight:new Xe.a},this.groups={selection:new Ue.a,highlight:new Xe.a},this.props=t,Object(qe.q)(this,{}),Object(z.h)(this),Object(qe.q)(this.clefs,{name:"Clefs"}),this._setClefsCallbacks(t),this._applyClefsPolicies(t),Object(ze.a)(this.clefs),Object(qe.q)(this.groups,{name:"Groups"}),this._setGroupsCallbacks(t),this._applyGroupsPolicies(t),Object(ze.a)(this.groups);var n=function(e){var t=function(t){e.query&&"PreselectionStore.selectClef"===t.topic&&(e.query.clef=t.details.clefLetter+(t.details.isSharpening?"#":t.details.isFlattening?"b":""),e.props.clefStore.setClef(e.query.clef))};return e.props.preselectionStore.signal.add(t),function(){return e.props.preselectionStore.signal.remove(t)}}(this);Object(qe.a)(this.clefs,n)}return Object(Ie.a)(e,[{key:"_setClefsCallbacks",value:function(e){var t=this.clefs;Object(Ne.c)(t.selection,{selectItem:{selectItem:function(){Object(Ue.b)(t.selection,this.selectionParams),Je.a(t.selection,this.selectionParams)}}}),Object(Ne.c)(t.highlight,{})}},{key:"_setGroupsCallbacks",value:function(e){var t=this.groups;Object(Ne.c)(t.selection,{selectItem:{selectItem:function(){Object(Ue.b)(t.selection,this.selectionParams),Je.a(t.selection,this.selectionParams)}}}),Object(Ne.c)(t.highlight,{})}},{key:"_applyClefsPolicies",value:function(e){var t=[rt,"clefs",this],n=[ct,"clefsDisplay",this],i=[Object(qe.m)(n,Object(qe.j)(t)),We.c(Object(qe.j)(n))];Object(qe.l)(i,this.clefs)}},{key:"_applyGroupsPolicies",value:function(e){var t=[rt,"groups",this],n=[ct,"groupsDisplay",this],i=[ct,"groupById",this],r=[Object(qe.m)(n,Object(qe.j)(t)),We.c(Object(qe.j)(n),De),We.b(Object(qe.j)(i)),We.a(Object(qe.j)(i))];Object(qe.l)(r,this.groups)}},{key:"destroy",value:function(){Object(qe.b)(this.clefs),Object(qe.b)(this.groups)}},{key:"setClefs",value:function(e){this.inputs.clefs=e,this.clefs.selection.ids=e}},{key:"setGroups",value:function(e){this.inputs.groups=e,this.groups.selection.ids=De(e)}},{key:"pickRandomChord",value:function(){var e,t,n;this.query=null!==(e=this.nextQuery)&&void 0!==e?e:it(this.clefs.selection.ids,null!==(t=this.groups.selection.items)&&void 0!==t?t:[]),this.nextQuery=it(this.clefs.selection.ids,null!==(n=this.groups.selection.items)&&void 0!==n?n:[]),this.query&&(this.props.clefStore.setClef(this.query.clef),this.props.voicingStore.setVoicing(this.query.voicing),this.props.voicingStore.setInversion(this.query.inversion))}}]),e}(),Te=Object(Fe.a)(Re.prototype,"query",[z.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Object(Fe.a)(Re.prototype,"nextQuery",[z.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Object(Fe.a)(Re.prototype,"inputs",[qe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new rt}}),Ae=Object(Fe.a)(Re.prototype,"outputs",[qe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ct}}),Object(Fe.a)(Re.prototype,"setClefs",[z.b],Object.getOwnPropertyDescriptor(Re.prototype,"setClefs"),Re.prototype),Object(Fe.a)(Re.prototype,"setGroups",[z.b],Object.getOwnPropertyDescriptor(Re.prototype,"setGroups"),Re.prototype),Object(Fe.a)(Re.prototype,"pickRandomChord",[z.b],Object.getOwnPropertyDescriptor(Re.prototype,"pickRandomChord"),Re.prototype),Re),st=[{id:"minor",name:"minor",voicings:[{id:"Min6+9",name:"Min6+9",chord:["flat3","fifth","ninth","thirteenth"],inversions:[!0,!0,!0,!0]},{id:"Min7+9",name:"Min7+9",chord:["flat3","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"\xf8+9",name:"\xf8+9",chord:["flat3","flat5","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"MinMaj+9",name:"MinMaj+9",chord:["flat3","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Min6",name:"Min6",chord:["flat3","fifth","thirteenth"],inversions:[!0,!0,!0]},{id:"Min7",name:"Min7",chord:["flat3","fifth","flat7"],inversions:[!0,!0,!0]},{id:"\xf8",name:"\xf8",chord:["flat3","flat5","flat7"],inversions:[!0,!0,!0]},{id:"Min",name:"Min",chord:["flat3","fifth"],inversions:[!0,!0]},{id:"MinMaj",name:"MinMaj",chord:["flat3","fifth","seventh"],inversions:[!0,!0,!0]}]},{id:"fourths",name:"fourths",voicings:[{id:"SoWhat",name:"SoWhat",chord:["root","fourth","flat7","flat3","fifth"],inversions:[!1,!0,!1,!1,!1,!1]}]},{id:"major",name:"major",voicings:[{id:"Maj6+9",name:"Maj6+9",chord:["third","sixth","ninth"],inversions:[!0,!0,!0]},{id:"Maj7+9",name:"Maj7+9",chord:["third","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Maj6",name:"Maj6",chord:["third","sixth"],inversions:[!0,!0]},{id:"Maj7",name:"Maj7",chord:["third","fifth","seventh"],inversions:[!0,!0,!0]},{id:"Maj",name:"Maj",chord:["third","fifth"],inversions:[!0,!0]}]},{id:"dominant",name:"dominant",voicings:[{id:"7+13",name:"7+13",chord:["third","flat7","thirteenth"]},{id:"7+9",name:"7+9",chord:["third","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"7+b13",name:"7+b13",chord:["third","flat7","flat13"],inversions:[!0,!0,!0]},{id:"7+9+b13",name:"7+9+b13",chord:["third","flat7","ninth","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b5",name:"7+b5",chord:["third","flat5","flat7"],inversions:[!0,!0,!0]},{id:"7+b5+b13",name:"7+b5+b13",chord:["third","flat5","flat7","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b9",name:"7+b9",chord:["third","fifth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+13",name:"7+b9+13",chord:["third","thirteenth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+b13",name:"7+b9+b13",chord:["third","flat13","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7",name:"7",chord:["third","fifth","flat7"],inversions:[!0,!0,!0]}]}],at=function(e){var t=xt(),n=t.groupsStore,i=t.clefStore,r=t.voicingStore,c=t.preselectionStore,o=xe(st),s=Object(z.b)((function(){var e=new ot({groupsStore:n,clefStore:i,voicingStore:r,preselectionStore:c});return e.setClefs(y),e.setGroups(o),e}));return Object(b.jsx)(d.a,{createCtr:s,updateCtr:function(e){Object(z.j)((function(){return{}}),(function(e){}),{fireImmediately:!0})},destroyCtr:function(e){return e.destroy()},getDefaultProps:function(e){return{quizState:function(){return e},clefs:function(){return e.outputs.clefsDisplay},clefsSelection:function(){return e.clefs.selection},clefsHighlight:function(){return e.clefs.highlight},clef:function(){return e.clefs.highlight.item},groups:function(){return e.outputs.groupsDisplay},groupsSelection:function(){return e.groups.selection},groupsHighlight:function(){return e.groups.highlight},group:function(){return e.groups.highlight.item}}},children:e.children})},lt=Object(u.a)(),ut=Object(l.a)((function(e){return Object(b.jsx)(a.b,{history:lt,children:Object(b.jsx)(a.c,{children:Object(b.jsx)(a.a,{path:"",children:Object(b.jsx)(at,{children:Object(b.jsx)(Ce,{})})})})})}));function ht(){return Object(b.jsx)("div",{className:"App w-screen",children:Object(b.jsx)("header",{className:"App__Header",children:Object(b.jsx)(ut,{})})})}var ft,bt,jt=(Qe=function(){function e(){Object(Me.a)(this,e),Object(ke.a)(this,"groupById",He,this),Object(z.h)(this)}return Object(Ie.a)(e,[{key:"loadGroups",value:function(){}}]),e}(),He=Object(Fe.a)(Qe.prototype,"groupById",[z.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qe),dt=n(105),pt=function e(){var t=this;Object(Me.a)(this,e),this.signal=new dt.Signal,this.clefLetter=void 0,this.isSharpening=void 0,this.isFlattening=void 0,this.setClefLetter=function(e){return t.clefLetter=e},this.setIsSharpening=function(e){return t.isSharpening=e},this.setIsFlattening=function(e){return t.isFlattening=e},this.reset=function(){t.clefLetter&&t.signal.dispatch({topic:"PreselectionStore.selectClef",details:{clefLetter:t.clefLetter,isSharpening:t.isSharpening,isFlattening:t.isFlattening}}),t.setIsFlattening(!1),t.setIsSharpening(!1),t.setClefLetter(void 0)},Object(z.h)(this,{clefLetter:z.i,isSharpening:z.i,isFlattening:z.i,setClefLetter:z.b,setIsSharpening:z.b,setIsFlattening:z.b,reset:z.b})},Ot=ge({id:"Chromatic",name:"Chromatic",chord:["root","flat9","ninth","flat3","third","fourth","flat5","fifth","flat6","sixth","flat7","seventh"]}),vt=function(){function e(){var t=this;Object(Me.a)(this,e),this.clef="C",this.inversion=0,this.voicing=Ot,this.setInversion=function(e){t.inversion=Object(p.clamp)(t.inversionRange[0],t.inversionRange[1])(e)},this.setVoicing=function(e){t.voicing=e},Object(z.h)(this,{clef:z.i,inversion:z.i,voicing:z.i,chord:z.c,nrOfVoices:z.c,inversionRange:z.c,setInversion:z.b,setVoicing:z.b})}return Object(Ie.a)(e,[{key:"inversionRange",get:function(){return tt(nt(this.voicing,this.clef,1))}},{key:"nrOfVoices",get:function(){return Object(p.size)(this.voicing.chord)}},{key:"chord",get:function(){return this.clef?et(nt(this.voicing,this.clef,1),this.inversion):void 0}}]),e}(),gt=function(){function e(){var t=this;Object(Me.a)(this,e),this.clefLetter="C",this.clefSharp=!1,this.clefFlat=!1,this.setClefLetter=function(e){t.clefLetter=e},this.setClefSharp=function(e){t.clefSharp=e,e&&(t.clefFlat=!1)},this.setClefFlat=function(e){t.clefFlat=e,e&&(t.clefSharp=!1)},Object(z.h)(this,{clefLetter:z.i,clefSharp:z.i,clefFlat:z.i,setClefLetter:z.b,setClefSharp:z.b,setClefFlat:z.b,clef:z.c})}return Object(Ie.a)(e,[{key:"clef",get:function(){return this.clefLetter+(this.clefSharp?"#":this.clefFlat?"b":"")}},{key:"setClef",value:function(e){var t=e[0];this.setClefLetter(t);var n=e[1];this.setClefFlat("b"==n),this.setClefSharp("#"==n)}}]),e}(),mt=new(ft=function(){function e(){Object(Me.a)(this,e),Object(ke.a)(this,"groupsStore",bt,this),this.voicingStore=new vt,this.clefStore=new gt,this.preselectionStore=new pt,Object(z.h)(this,{voicingStore:z.i,clefStore:z.i,preselectionStore:z.i}),this.groupsStore=new jt,this.applyPolicies()}return Object(Ie.a)(e,[{key:"applyPolicies",value:function(){var e;e=this,Object(z.j)((function(){return e.clefStore.clef}),(function(t){e.voicingStore.clef=t}),{fireImmediately:!0})}}]),e}(),bt=Object(Fe.a)(ft.prototype,"groupsStore",[z.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft),yt=c.a.createContext(mt),xt=function(){var e=c.a.useContext(yt);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),r(e),c(e),o(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(ht,{})}),document.getElementById("root")),wt()},82:function(e,t,n){}},[[197,1,2]]]);
//# sourceMappingURL=main.95f4884d.chunk.js.map