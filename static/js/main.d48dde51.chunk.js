(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r,i=n(0),o=n.n(i),c=n(28),a=n.n(c),l=(n(101),n(102),n(103),n(191)),s=n(5),u=n(33),f=n(18),h=n.n(f),d=(n(104),n(1)),b=Object(s.a)((function(e){return Object(d.jsxs)("div",{className:h()("QuizFrame flex flex-col"),children:[Object(d.jsx)(Ee,{}),Object(d.jsx)("div",{className:h()("QuizFrame__MidSection flex flex-row"),children:e.children})]})})),p=n(41),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=p.createContext({}),O=function(){return p.useContext(j)},g=function(e){var t=O(),n=v(v({},t||{}),e.value);return p.createElement(j.Provider,{value:n},e.children)},m={},y=function(e){var t=p.useState((function(){var t;return e.ctrKey?m[e.ctrKey]=null!==(t=m[e.ctrKey])&&void 0!==t?t:e.createCtr():e.createCtr()}))[0];return p.useEffect((function(){var n=e.updateCtr?e.updateCtr(t):void 0;return function(){n&&n(),e.ctrKey||e.destroyCtr(t)}})),p.createElement(g,{value:e.getDefaultProps(t)},e.children)},w=function(e){var t=O();return t||console.error("No default props: ",e),new Proxy(e,{get:function(e,n){return n in e?e[n]:n in t?t[n]():void 0}})},x=(n(71),n(3)),S=function(e,t){return Object(x.isInteger)(e)?!Object(x.isInteger)(t)||t<1?NaN:(e%t+t)%t:NaN},C={0:"root",1:"flat nine",2:"nine",3:"flat third",4:"third",5:"fourth/eleventh",6:"tritone",7:"fifth",8:"flat thirteen",9:"thirteenth",10:"flat seven",11:"seven"},M={root:0,"flat nine":1,flat9:1,nine:2,ninth:2,"flat third":3,flat3:3,third:4,fourth:5,eleven:5,eleventh:5,sharp4:6,flat5:6,sharp11:6,"sharp fourth":6,"sharp eleventh":6,fifth:7,"flat thirteen":8,flat6:8,flat13:8,six:9,sixth:9,thirteen:9,thirteenth:9,flat7:10,"flat seven":10,seven:11,seventh:11},I=n(14),k=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],P=(r={},Object(I.a)(r,"Cb",11),Object(I.a)(r,"C",0),Object(I.a)(r,"C#",1),Object(I.a)(r,"Db",1),Object(I.a)(r,"D",2),Object(I.a)(r,"D#",3),Object(I.a)(r,"Eb",3),Object(I.a)(r,"E",4),Object(I.a)(r,"E#",5),Object(I.a)(r,"Fb",4),Object(I.a)(r,"F",5),Object(I.a)(r,"F#",6),Object(I.a)(r,"Gb",6),Object(I.a)(r,"G",7),Object(I.a)(r,"G#",8),Object(I.a)(r,"Ab",8),Object(I.a)(r,"A",9),Object(I.a)(r,"A#",10),Object(I.a)(r,"Bb",10),Object(I.a)(r,"B",11),Object(I.a)(r,"B#",0),r),F=["C","D","E","F","G","A","B"],E=[0,2,4,5,7,9,11],N=[1,3,6,8,10],D=function(e){return Object(x.includes)(e,E)},R=function(e){return 12*e},z=function(e){return S(e,12)},q=function(e){var t=S(e.inversion,e.voicing.chord.length),n=z(e.voicing.chord[t]),r=C[n];return"".concat(e.clef," ").concat(e.voicing.name," from ")+"".concat(r)},L=(n(111),Object(s.a)((function(e){var t;return Object(d.jsx)("div",{className:"VoicingTitle",children:(null!==(t=e.label)&&void 0!==t?t:"")+(e.query?q(e.query):"")})}))),_=(n(112),Object(s.a)((function(e){return Object(d.jsxs)("div",{className:h()("GroupsFrame flex flex-col"),children:[Object(d.jsx)(_,{}),Object(d.jsxs)("div",{className:h()("GroupsFrame__MidSection flex flex-row"),children:[Object(d.jsx)(Q,{}),e.children]})]})})),n(113),Object(s.a)((function(){return Object(d.jsx)("div",{className:h()("GroupsFrameTopPanel")})}))),K=n(2),G=n(36),B=n(96),T=n(90),V=n(89),A=Object(s.a)((function(e){var t=e.isMulti,n=e.isCreatable,r=e.pickableValue,i=e.pickableValues,o=e.labelFromValue,c=Object(B.a)(e,["isMulti","isCreatable","pickableValue","pickableValues","labelFromValue"]),a=function(e){return e.__isNew__?e:{value:e,label:o(e)}},l=i.map(a),s=Object(G.a)({isMulti:t,options:l,value:Object(x.isNil)(r)?void 0:t?r.map(a):a(r),onKeyDown:function(e){c.onKeyDown&&c.onKeyDown(e)}},c),u=n?Object(d.jsx)(V.a,Object(G.a)({},s)):Object(d.jsx)(T.a,Object(G.a)({},s));return Object(d.jsx)("div",{style:{zIndex:c.zIndex},children:u})})),U=(n(128),Object(s.a)((function(e){var t=w(e),n=Object(K.b)((function(e){var n,r=null!==(n=e)&&void 0!==n?n:[];t.groupsSelection.ids=r.map((function(e){return e.value.id}))}));return Object(d.jsx)("div",{className:h()("GroupPicker",t.className),children:Object(d.jsx)(A,{isMulti:!0,isCreatable:!1,pickableValues:t.groups,labelFromValue:function(e){return e.name},pickableValue:t.groupsSelection.items,onChange:n})})}))),Q=(n(129),Object(s.a)((function(){return Object(d.jsx)("div",{className:h()("GroupsFrameLeftPanel")})}))),H=n(97),W=(Object(s.a)((function(e){var t=e.f;return Object(H.a)((function(){return t()}),[t]),Object(d.jsx)(o.a.Fragment,{})})),"RESET"),J="UPDATING",Z="ERRORED",$="UPDATED",X=function(){return{type:J,updating_state:{type:"LOADING"}}},Y=(Object(K.b)((function(e,t,n,r,i){return e[t]=X(),n().then(Object(K.b)((function(n){r(n),e[t]={type:$}}))).catch(Object(K.b)((function(n){var r;e[t]=(r=i?i(n):"Could not load ".concat(t),{type:Z,message:r})})))})),function(e){return Object(d.jsxs)("div",{children:["Error",void 0!==e&&": ".concat(e)]})}),ee=function(){return Object(d.jsx)("div",{children:"Loading..."})},te=(Object(s.a)((function(e){var t,n,r=null!==(t=e.renderErrored)&&void 0!==t?t:Y,i=null!==(n=e.renderUpdating)&&void 0!==n?n:ee;return e.rs.type===$?function(){try{return e.renderUpdated()}catch(t){return r(t.message)}}():function(e){return e.type===Z}(e.rs)?r(e.rs.message):function(e){return e.type===J}(e.rs)?i(e.rs.updating_state):function(e){return e.type===W}(e.rs)?Object(d.jsx)(o.a.Fragment,{}):function(){throw Error("Received unrecognized resource state ".concat(e.rs))}()})),n(34)),ne=n(29),re=n.n(ne),ie=n(92),oe=n.n(ie),ce=new(window.AudioContext||window.webkitAudioContext),ae=new oe.a(ce),le=Object(s.a)((function(e){var t=w(e),n=zn().voicingStore;return Object(d.jsx)(re.a,{handleKeys:["ctrl+left","ctrl+right"],onKeyEvent:function(e,r){"ctrl+right"===e&&(n.setInversion(n.inversion+1),t.quizState.query&&(t.quizState.query.inversion=n.inversion)),"ctrl+left"===e&&(n.setInversion(n.inversion-1),t.quizState.query&&(t.quizState.query.inversion=n.inversion))},children:Object(d.jsx)(re.a,{handleKeys:["p"],onKeyEvent:function(e,t){var r,i;r=n.chord,i=n.clef,Object(x.forEach)((function(e){return ae.playNote(e+48,1,1,0)}),r),ae.playNote(P[i]+36,1,1,0)},children:t.children})})})),se=Object(s.a)((function(e){var t=e.children,n=zn().preselectionStore;return Object(d.jsx)(re.a,{handleKeys:["up","down"],handleEventType:"keydown",onKeyEvent:function(e,t){n.setIsSharpening("up"===e),n.setIsFlattening("down"===e)},children:Object(d.jsx)(re.a,{handleKeys:["up","down"],handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),ue=Object(s.a)((function(e){var t=e.children,n=zn().preselectionStore;return Object(d.jsx)(re.a,{handleKeys:F,handleEventType:"keydown",onKeyEvent:function(e,t){n.setClefLetter(e)},children:Object(d.jsx)(re.a,{handleKeys:F,handleEventType:"keyup",onKeyEvent:function(e,t){n.reset()},children:t})})})),fe={0:"#aaaaaa",1:"#fa9835-striped",2:"#fa9835",3:"#40d530-striped",4:"#40d530",5:"#fee449",6:"#f53311-striped",7:"#f53311",8:"#38baf2-striped",9:"#38baf2",10:"#ff99ff-striped",11:"#ff99ff"};var he=Object(s.a)((function(e){var t=Math.floor(e.height/4.25);return e.isStriped?Object(x.flow)(Object(x.always)(Object(x.range)(0,t)),Object(x.map)((function(t){var n=Math.floor(t/2),r=t-n,i=t%2==0,o=e.y+5*r+3.5*n,c=i?5:3.5;return Object(d.jsx)(te.b,{x:e.x+1,y:o,fill:i?e.fill:e.backgroundColour,width:e.width-2,height:c,strokeWidth:0,opacity:1},t)})))():[Object(d.jsx)(te.b,{x:e.x+1,y:e.y,fill:e.fill,width:e.width-2,height:e.height,strokeWidth:0,opacity:1},0)]})),de={width:50,height:250,fill:"#FFFFFF",markerHeight:56},be={width:25,height:160,fill:"#444444",markerHeight:100},pe=Object(x.flow)(Object(x.always)(Object(x.range)(0,7)),Object(x.map)((function(e){return e*de.width})))(),ve=function(e){return e*be.width},je=[pe[1]-ve(.66),pe[2]-ve(.33),pe[4]-ve(.7),pe[5]-ve(.5),pe[6]-ve(.3)],Oe=Object(s.a)((function(e){var t=D(e.index),n=t?de:be,r=t?3:2,i=7*e.octaveIndex*de.width+function(e){var t=D(e),n=t?E:N;return(t?pe:je)[Object(x.indexOf)(e,n)]}(e.index);return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)(te.b,{x:i,y:0,fill:n.fill,stroke:"#000000",opacity:1,width:n.width,height:n.height}),Object(d.jsx)(he,{x:i+2,y:0+n.height-n.markerHeight-r,height:n.markerHeight,width:n.width-4,fill:e.markerColour,isStriped:e.markerIsStriped,backgroundColour:n.fill})]})})),ge=Object(s.a)((function(e){var t=Object(x.concat)(E,N),n=Object(x.flow)(Object(x.always)(t),Object(x.map)(Object(x.add)(R(e.index))),Object(x.map)((function(t){var n=z(t),r=function(e,t,n){var r=Object(x.includes)(e,n)?fe[z(e-P[t])]:void 0,i=!(!r||!r.endsWith("-striped"));return{colour:i?Object(x.split)("-striped",r)[0]:r,isStriped:i}}(t,e.clef,e.chord),i=r.colour,o=r.isStriped;return Object(d.jsx)(Oe,{index:n,octaveIndex:e.index,markerColour:i,markerIsStriped:o},t)})))();return Object(d.jsx)(te.a,{children:n})})),me=Object(s.a)((function(e){var t=w(e);return Object(d.jsx)(re.a,{handleKeys:["space","enter"],onKeyEvent:function(e,n){t.quizState.pickRandomChord()},children:t.children})})),ye=Object(s.a)((function(e){var t=w(e),n=zn(),r=n.voicingStore,i=n.clefStore,o=Object(x.flow)(Object(x.always)(Object(x.range)(0,4)),Object(x.map)((function(e){return Object(d.jsx)(ge,{index:e,clef:i.clef,chord:r.chord},e)})))();return Object(d.jsx)("div",{className:"Keyboard__frame",onClick:t.onClick,children:Object(d.jsx)(me,{children:Object(d.jsx)(ue,{children:Object(d.jsx)(se,{children:Object(d.jsx)(le,{children:Object(d.jsx)("div",{tabIndex:0,children:Object(d.jsx)(te.c,{width:1400,height:250,children:o})})})})})})})})),we=(n(168),Object(s.a)((function(e){var t=w(e),n=Object(x.flow)(Object(x.always)(t.clefs),Object(x.map)((function(e){return Object(d.jsx)(xe,{clef:e,className:h()({"ClefListViewItem--selected":t.clefsSelection.ids.includes(e)},t.className),onMouseDown:function(n){t.clefsSelection.selectItem({itemId:e,isShift:!1,isCtrl:!0})}},e)})))(),r=Object(d.jsx)("h2",{children:"There are no clefs"});return Object(d.jsxs)("div",{className:"ClefListView flex flex-row w-full",children:[n.length&&n,!n.length&&r]})}))),xe=(n(169),Object(s.a)((function(e){return Object(d.jsx)("div",{className:h()("ClefListViewItem flex-1",e.className),onMouseDown:e.onMouseDown,children:e.clef})}))),Se=n(37),Ce=n.n(Se),Me=function(e){for(var t=Object(G.a)(Object(G.a)({},e),{},{chord:Object(x.map)((function(e){var t=M[e];return void 0===t&&console.log("Error: unknown note ".concat(e)),t}),e.chord)}),n=1;n<t.chord.length;++n)for(;t.chord[n]<=t.chord[n-1];)t.chord[n]+=12;return t},Ie=function(e){return Object(G.a)(Object(G.a)({},e),{},{voicings:Object(x.map)(Me,e.voicings)})},ke={data:null},Pe=function(e){return ke.data=e,Object(x.map)(Ie,e)},Fe=(n(179),n(180),n(181),Object(s.a)((function(e){var t=w(e);return Object(d.jsxs)(Ce.a,{onSelect:function(e){1===e&&navigator.clipboard.writeText(JSON.stringify(ke.data,null,2)),2===e&&window.open("https://twitter.com/intent/tweet?url=www.brainpiano.ai&hashtags=BrainPiano"),3===e&&navigator.clipboard.readText().then((function(e){t.quizState.setGroups(Pe(JSON.parse(e)))}))},autoOpen:!0,pullRight:!0,children:[Object(d.jsx)(Ce.a.Toggle,{btnSize:"lg",btnStyle:"flat",children:"IO"}),Object(d.jsxs)(Ce.a.Menu,{children:[Object(d.jsx)(Se.MenuItem,{eventKey:1,children:"Export"}),Object(d.jsx)(Se.MenuItem,{divider:!0}),Object(d.jsx)(Se.MenuItem,{eventKey:2,children:"Tweet"}),Object(d.jsx)(Se.MenuItem,{divider:!0}),Object(d.jsx)(Se.MenuItem,{eventKey:3,children:"Import"})]})]})}))),Ee=(n(182),Object(s.a)((function(e){var t=w(e),n=Object(d.jsx)("button",{onClick:function(){return window.open("https://github.com/mnieber/brainpiano#brainpiano")},children:"Help"});return Object(d.jsxs)("div",{className:h()("QuizFrameTopPanel mb-4"),children:[Object(d.jsxs)("div",{className:"QuizFrameTopPanel__firstRow mb4 flex flex-row justify-between",children:[Object(d.jsx)(L,{query:t.quizState.query}),n,Object(d.jsx)(L,{label:t.quizState.nextQuery?"Next: ":"Welcome to BrainPiano!",query:t.quizState.nextQuery})]}),Object(d.jsx)(U,{className:"flex-1"}),Object(d.jsxs)("div",{className:"flex flex-row justify-between mt-2",children:[Object(d.jsx)(we,{className:"flex-1"}),Object(d.jsx)(Fe,{})]})]})}))),Ne=Object(s.a)((function(e){var t=w(e),n=o.a.useMemo((function(){return function(){return t.quizState.pickRandomChord()}}),[t.quizState]);return Object(d.jsx)(b,{children:Object(d.jsx)(ye,{onClick:n})})})),De=n(23),Re=n(12),ze=n(13),qe=n(19),Le=(n(49),{admin:Symbol("aspiration administration")});function _e(e){return r=function(){return{}},(t=e)[n=Le.admin]||(t[n]=r()),t[n];var t,n,r}var Ke=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,\)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,\)]*))/gm,Ge=/([^\s,]+)/g;function Be(e){var t=e.toString().replace(Ke,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Ge);return null===n&&(n=[]),n}function Te(e,t,n){var r;return e.defaultCallbackMap=null!==(r=e.defaultCallbackMap)&&void 0!==r?r:{},e.defaultCallbackMap[t]=n,n}function Ve(e,t,n,r){var i=n.value;return"function"===typeof n.value&&(n.value=function(){for(var e,n,o,c,a,l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];var u=_e(this),f=null!==(c=null!==(n=null===(e=u.callbackMap)||void 0===e?void 0:e[t])&&void 0!==n?n:null===(o=u.defaultCallbackMap)||void 0===o?void 0:o[t])&&void 0!==c?c:Te(u,t,r(this));u.paramNamesMap||(u.paramNamesMap={});for(var h=u.paramNamesMap[t]=null!==(a=u.paramNamesMap[t])&&void 0!==a?a:Be(i),d={},b=0,p=h.length;b<p;++b){d[j=h[b]]=f[j],f[j]=l[b]}f.enter&&f.enter();var v=i.bind(this).apply(void 0,l)(f);f.exit&&f.exit();for(b=0,p=h.length;b<p;++b){var j;f[j=h[b]]=d[j]}return v}),n}function Ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=function(t,n,r){return Ve(0,n,r,e[0])};return n}e[0];var r=e[1],i=e[2];return Ve(0,r,i,(function(){return{}}))}function Ue(e,t){var n,r=_e(e);r.callbackMap=t,r.defaultCallbackMap=null!==(n=r.defaultCallbackMap)&&void 0!==n?n:{}}!function(){function e(){}e.prototype.enter=function(){},e.prototype.exit=function(){}}();var Qe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},He=function(e){return null!==e&&void 0!==e?e:Qe},We={admin:Symbol("skandha administration")};function Je(e,t,n){return e[t]||(e[t]=n()),e[t]}function Ze(e){return Je(e,We.admin,(function(){return{}}))}function $e(e){return Je(e,We.admin,(function(){return{}}))}function Xe(e){return Je(e,We.admin,(function(){return{}}))}function Ye(e){return Je(e,We.admin,(function(){return{}}))}function et(e,t,n){var r;void 0===n&&(n=void 0);var i=Xe(e.constructor);return i.dataMembers=null!==(r=i.dataMembers)&&void 0!==r?r:{},i.dataMembers[t]=!0,function(e,t,n){var r;void 0===n&&(n=void 0);var i=Xe(e.constructor);return i.loggedMembers=null!==(r=i.loggedMembers)&&void 0!==r?r:{},i.loggedMembers[t]=!0,n}(e,t,n)}function tt(e){var t;return Object.keys(null!==(t=Xe(e.constructor).dataMembers)&&void 0!==t?t:{})}var nt=et,rt=et;function it(e){return Ye(e).parentContainer}function ot(e){var t;return null!==(t=$e(e).facetMembers)&&void 0!==t?t:[]}function ct(e){var t,n=$e(e);n.cleanUpFunctions=null!==(t=n.cleanUpFunctions)&&void 0!==t?t:[],n.cleanUpFunctions.forEach((function(e){return e()}))}var at={logging:!1,formatObject:function(e){return e}},lt=function(){return(lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function st(e){var t;return null!==(t=Ye(e).logName)&&void 0!==t?t:function(e){var t=it(e);return(t?t.constructor.name+"/":"")+e.constructor.name}(e)}function ut(e,t,n,r){var i,o=it(e),c=o?$e(o):void 0,a=null!==(i=null===c||void 0===c?void 0:c.ctrStateOverride)&&void 0!==i?i:ht,l=o?function(){return a(o)}:function(){return ft(e)},s=function(e){return(t=e,t.replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase()).toUpperCase();var t}(t),u=st(e)+"."+s;r?(console.group(u),console.log("%c           args: ","color: gray",n),console.log("%c     state","color: gray",l())):(console.log("%c     next","color: gray",l()),console.groupEnd(u))}function ft(e){return function(e){var t;return Object.keys(null!==(t=Xe(e.constructor).loggedMembers)&&void 0!==t?t:{})}(e).reduce((function(t,n){var r;try{var i=at.formatObject(e[n]);return lt(lt({},t),((r={})[n]=i,r))}catch(o){return t}}),{})}function ht(e){if(e)return ot(e).reduce((function(t,n){var r,i=e[n];return lt(lt({},t),((r={})[n]=ft(i),r))}),{})}function dt(e,t,n){var r;void 0===n&&(n=void 0);var i=Ze(e.constructor);return i.facetMembers=null!==(r=i.facetMembers)&&void 0!==r?r:[],i.facetMembers.push(t),n}function bt(e,t){var n,r,i,o,c,a=null!==(n=t.name)&&void 0!==n?n:e.constructor.name,l=$e(e);l.facetMembers=null!==(r=l.facetMembers)&&void 0!==r?r:[],l.facetByFacetClassName=null!==(i=l.facetByFacetClassName)&&void 0!==i?i:{},l.ctrStateOverride=t.ctrState,(null!==(c=null!==(o=t.members)&&void 0!==o?o:Ze(e.constructor).facetMembers)&&void 0!==c?c:Object.getOwnPropertyNames(e)).forEach((function(n){l.facetMembers.push(n);var r=e[n];!function(e,t){Ye(e).parentContainer=t}(r,e),Ye(r).logName=a+"/"+r.constructor.name;var i=r.constructor.name;void 0!==l.facetByFacetClassName[i]&&console.error("Two facets of same type "+i+" in container "+t.name),l.facetByFacetClassName[i]=r}))}function pt(e,t){var n;if(!t)return function(t){return pt(e,t)};var r=null===(n=$e(t).facetByFacetClassName)||void 0===n?void 0:n[e.name];return r||console.error("No facet "+e.name+" in container "+t.constructor.name),r}function vt(e){var t=function(t){var n;return pt(e[0],null!==(n=e[2])&&void 0!==n?n:t)[e[1]]};return t.facetClassName=e[0].name,t.facetMemberName=e[1],t}var jt=function(){return(jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ot(e,t,n){var r,i=tt(e);for(var o in t)(null===(r=null===n||void 0===n?void 0:n.warnIfNotADataMember)||void 0===r||r)&&(i.includes(o)||console.error("Patching a property "+o+" that wasn't decorated with @data, @input or @output in "+st(e))),delete e[o],Object.defineProperty(e,o,jt(jt({},t[o]),{enumerable:!0,configurable:!0}))}var gt=function(e,t,n){var r=e[0],i=e[1],o=e[2];return function(e){var c,a=((c={})[i]={get:function(){var c={ctr:null!==o&&void 0!==o?o:e,getter:t,toClassMember:[r,i],data:t(e)};return n?n(c.data):c.data}},c);Ot(pt(r,null!==o&&void 0!==o?o:e),a)}},mt=function(e,t,n){var r=e[0],i=e[1],o=e[2];return function(e){var c,a=((c={})[i]={get:function(){var c={ctr:null!==o&&void 0!==o?o:e,getters:t,toClassMember:[r,i],datas:t.map((function(t){return t(e)}))};return n.apply(void 0,c.datas)}},c);Ot(pt(r,null!==o&&void 0!==o?o:e),a)}},yt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}l((r=r.apply(e,t||[])).next())}))},wt=function(e,t){var n,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function xt(e,t,n,r){var i,o=n.value,c=Xe(e.constructor);return c.operationMemberNames=null!==(i=c.operationMemberNames)&&void 0!==i?i:[],c.operationMemberNames.push(t),"function"===typeof n.value&&(n.value=r.async?function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return yt(this,void 0,void 0,(function(){var i,c,a;return wt(this,(function(l){switch(l.label){case 0:return i=this,(c=at.logging&&(null===(e=r.log)||void 0===e||e))&&ut(i,t,n,!0),[4,o.bind(this).apply(void 0,n)];case 1:return a=l.sent(),c&&ut(i,t,n,!1),[2,Promise.resolve(a)]}}))}))}:function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var c=this,a=at.logging&&(null===(e=r.log)||void 0===e||e);a&&ut(c,t,n,!0);var l=o.bind(this).apply(void 0,n);return a&&ut(c,t,n,!1),l}),n}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=function(t,n,r){return xt(t,n,r,e[0])};return n}var r=e[0],i=e[1],o=e[2];return xt(r,i,o,{})}function Ct(e,t){e.forEach((function(e){e(t)}))}var Mt={admin:Symbol("skandha-mobx administration")};var It=function(e){return function(e,t,n){return e[t]||(e[t]=n()),e[t]}(e,Mt.admin,(function(){return{}}))},kt=function(e){var t;ot(e).forEach((function(t){var n,r=e[t];try{Pt(r)}catch(i){}(null!==(n=It(r).effects)&&void 0!==n?n:[]).forEach((function(e){return e()}))}));try{Object(K.h)(e)}catch(n){}(null!==(t=It(e).effects)&&void 0!==t?t:[]).forEach((function(e){return e()}))},Pt=function(e){Ft(e);try{Object(K.h)(e)}catch(n){}var t={};tt(e).forEach((function(n){var r;if(!Object(K.g)(e,n)&&!Object(K.f)(e,n)){var i=null!==(r=Object.getOwnPropertyDescriptor(e,n))&&void 0!==r?r:Object.getOwnPropertyDescriptor(e.constructor.prototype,n);t[n]=!i||i.get?K.c:K.i}}));try{Object(K.h)(e,t)}catch(r){}},Ft=function(e){(function(e){var t;return null!==(t=Xe(e.constructor).operationMemberNames)&&void 0!==t?t:[]})(e).forEach((function(t){e[t]=Object(K.b)(e[t])}))};function Et(e){return e.map((function(e){return e.id}))}var Nt=n(35);n(45);var Dt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Rt=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"selectableIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ids",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"anchorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(ze.a)(e,[{key:"selectItem",value:function(e){return function(e){e.selectItem()}}}]),e}();function zt(e,t){var n=t.itemId,r=t.isShift,i=t.isCtrl,o=e.ids.includes(n),c=e.selectableIds;if(!c)throw Error("logical error");if(r){var a=e.anchorId||n,l=c.indexOf(a),s=c.indexOf(n),u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(Math.min(l,s),1+Math.max(l,s));e.ids=u.map((function(e){return c[e]}))}else e.ids=i?o?e.ids.filter((function(e){return e!==n})):[].concat(Object(Nt.a)(e.ids),[n]):[n];e.anchorId&&(i||r)||(e.anchorId=n)}Dt([nt],Rt.prototype,"selectableIds",void 0),Dt([et],Rt.prototype,"ids",void 0),Dt([et],Rt.prototype,"anchorId",void 0),Dt([rt],Rt.prototype,"items",void 0),Dt([St,Ae((function(e){return{selectItem:function(){zt(e,this.selectionParams)}}}))],Rt.prototype,"selectItem",null);var qt=function(e,t){return gt([Rt,"selectableIds"],e,t)},Lt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},_t=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"item",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(ze.a)(e,[{key:"highlightItem",value:function(e){var t=this;return function(n){t.id=e,He(n.scrollItemIntoView).bind(n)()}}}]),e}();Lt([et],_t.prototype,"id",void 0),Lt([rt],_t.prototype,"item",void 0),Lt([St,Ae],_t.prototype,"highlightItem",null);var Kt=function(e){return mt([_t,"item"],[e,vt([_t,"id"])],(function(e,t){return e[t]}))},Gt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Bt=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"isEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:function(){return[]}}),Object.defineProperty(this,"inputItems",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(ze.a)(e,[{key:"filteredItems",get:function(){return this.isEnabled?this.filter(this.inputItems):this.inputItems}},{key:"apply",value:function(e){var t=this;return function(n){t.filter=e,t.setEnabled(!0)}}},{key:"setEnabled",value:function(e){var t=this;return function(n){t.isEnabled=e}}}]),e}();Gt([et],Bt.prototype,"isEnabled",void 0),Gt([et],Bt.prototype,"filter",void 0),Gt([et],Bt.prototype,"inputItems",void 0),Gt([et],Bt.prototype,"filteredItems",null),Gt([St,Ae],Bt.prototype,"apply",null),Gt([St,Ae],Bt.prototype,"setEnabled",null);var Tt="<topOfTheList>";function Vt(e,t,n,r){var i=t==Tt?void 0:t;return r.length?e.reduce((function(e,t){return t.id===i&&n&&e.push.apply(e,Object(Nt.a)(r)),r.find((function(e){return e.id===t.id}))||e.push(t),t.id!==i||n||e.push.apply(e,Object(Nt.a)(r)),e}),i?[]:Object(Nt.a)(r)):e}var At=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Ut=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"inputItems",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"preview",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(ze.a)(e,[{key:"insertItems",value:function(e){var t=this;return function(n){if(t.inputItems){var r=Vt(t.inputItems,e.targetItemId,e.isBefore,e.payload);n.insertItems(r)}}}}]),e}();At([nt],Ut.prototype,"inputItems",void 0),At([rt],Ut.prototype,"preview",void 0),At([St,Ae],Ut.prototype,"insertItems",null);function Qt(e,t){var n=t.itemId,r=t.isShift,i=t.isCtrl,o=it(e);i||r||pt(_t,o).highlightItem(n)}var Ht=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Wt=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"item",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object(ze.a)(e,[{key:"add",value:function(e){var t=this;return function(e){He(e.storeLocation).bind(e)(),t.item=e.createItem(),He(e.highlightNewItem).bind(e)()}}},{key:"confirm",value:function(){var e=this;return function(t){t.confirm(),e._reset()}}},{key:"cancel",value:function(){var e=this;return function(t){e._reset(),He(t.restoreLocation).bind(t)()}}},{key:"_reset",value:function(){this.item=void 0,this.parentId=void 0}}]),e}();Ht([et],Wt.prototype,"item",void 0),Ht([et],Wt.prototype,"parentId",void 0),Ht([St,Ae],Wt.prototype,"add",null),Ht([St,Ae],Wt.prototype,"confirm",null),Ht([St,Ae],Wt.prototype,"cancel",null);var Jt=function(e,t,n,r){var i,o=arguments.length,c=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(c=(o<3?i(c):o>3?i(t,n,c):i(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Zt=function(){function e(){Object(Re.a)(this,e),Object.defineProperty(this,"isEditing",{enumerable:!0,configurable:!0,writable:!0,value:!1})}return Object(ze.a)(e,[{key:"save",value:function(e){var t=this;return function(e){e.saveItem(),t.isEditing=!1,He(e.refreshView).bind(e)()}}},{key:"cancel",value:function(){var e=this;return function(t){e.isEditing=!1}}},{key:"enable",value:function(){var e=this;return function(t){e.isEditing=!0}}}]),e}();Jt([et],Zt.prototype,"isEditing",void 0),Jt([St,Ae],Zt.prototype,"save",null),Jt([St,Ae],Zt.prototype,"cancel",null),Jt([St,Ae],Zt.prototype,"enable",null);var $t,Xt,Yt,en,tn,nn,rn,on,cn,an,ln,sn,un,fn=n(95),hn=function(e){return e[Math.floor(Math.random()*Object(x.size)(e))]},dn=function(e,t){return 0===t?e:t>0?x.flow.apply(void 0,[Object(x.always)(e)].concat(Object(Nt.a)(Object(x.times)(Object(x.constant)((function(e){for(var t=e[e.length-1],n=Object(x.take)(1,e),r=Object(x.takeRight)(Object(x.size)(e)-1,e);n[0]<=t;)n[0]+=12;return Object(x.concat)(r,n)})),t))))():x.flow.apply(void 0,[Object(x.always)(e)].concat(Object(Nt.a)(Object(x.times)(Object(x.constant)((function(e){for(var t=e[0],n=Object(x.takeRight)(1,e),r=Object(x.take)(Object(x.size)(e)-1,e);n[0]>=t;)n[0]-=12;return Object(x.concat)(n,r)})),Math.abs(t)))))()},bn=function(e){for(var t=0,n=0,r=e.length;dn(e,n+1)[r-1]<48;)n+=1;for(;dn(e,t-1)[0]>=0;)t-=1;return[t,n]},pn=function(e,t,n){var r=R(n),i=P[t];return Object(x.flow)(Object(x.always)(e.chord),Object(x.map)(Object(x.add)(r+i)))()},vn=function(e,t){for(var n=hn(e),r=Object(x.sumBy)((function(e){return e.voicings.length}))(t),i=Math.floor(Math.random()*r),o=0,c=t[0].voicings.length;i>=c;)c+=t[o+=1].voicings.length;var a=t[o],l=a.voicings[i-(c-a.voicings.length)];return{clef:n,group:a,voicing:l,inversion:function(e,t){var n=e.chord.length,r=bn(pn(e,t,1)),i=Object(fn.a)(r,2),o=i[0],c=i[1],a=Object(x.range)(o,c+1).filter((function(t){return!1!==e.inversions[S(t,n)]}));if(0===a.length)return 0;for(var l=hn(a);l+n<=c&&Math.abs(l)>Math.abs(l+n);)l+=n;for(;l-n>=o&&Math.abs(l)>Math.abs(l-n);)l-=n;return l}(l,n)}},jn=($t=function e(){Object(Re.a)(this,e),Object(De.a)(this,"groups",Xt,this),Object(De.a)(this,"clefs",Yt,this)},Xt=Object(qe.a)($t.prototype,"groups",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yt=Object(qe.a)($t.prototype,"clefs",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$t),On=(en=function(){function e(){Object(Re.a)(this,e),Object(De.a)(this,"clefsDisplay",tn,this),Object(De.a)(this,"groupsDisplay",nn,this)}return Object(ze.a)(e,[{key:"groupById",get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return e.forEach((function(e){n[e[t]]=e})),n}(this.groupsDisplay)}}]),e}(),tn=Object(qe.a)(en.prototype,"clefsDisplay",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nn=Object(qe.a)(en.prototype,"groupsDisplay",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(qe.a)(en.prototype,"groupById",[K.c],Object.getOwnPropertyDescriptor(en.prototype,"groupById"),en.prototype),en),gn=(rn=function(){function e(t){Object(Re.a)(this,e),this.props=void 0,Object(De.a)(this,"query",on,this),Object(De.a)(this,"nextQuery",cn,this),Object(De.a)(this,"inputs",an,this),Object(De.a)(this,"outputs",ln,this),this.clefs={selection:new Rt,highlight:new _t},this.groups={selection:new Rt,highlight:new _t},this.props=t,bt(this,{}),Object(K.h)(this),bt(this.clefs,{name:"Clefs"}),this._setClefsCallbacks(t),this._applyClefsPolicies(t),kt(this.clefs),bt(this.groups,{name:"Groups"}),this._setGroupsCallbacks(t),this._applyGroupsPolicies(t),kt(this.groups);var n=function(e){var t=function(t){e.query&&"PreselectionStore.selectClef"===t.topic&&(e.query.clef=t.details.clefLetter+(t.details.isSharpening?"#":t.details.isFlattening?"b":""),e.props.clefStore.setClef(e.query.clef))};return e.props.preselectionStore.signal.add(t),function(){return e.props.preselectionStore.signal.remove(t)}}(this);!function(e,t){var n,r=$e(e);r.cleanUpFunctions=null!==(n=r.cleanUpFunctions)&&void 0!==n?n:[],r.cleanUpFunctions.push(t)}(this.clefs,n)}return Object(ze.a)(e,[{key:"_setClefsCallbacks",value:function(e){var t=this.clefs;Ue(t.selection,{selectItem:{selectItem:function(){zt(t.selection,this.selectionParams),Qt(t.selection,this.selectionParams)}}}),Ue(t.highlight,{})}},{key:"_setGroupsCallbacks",value:function(e){var t=this.groups;Ue(t.selection,{selectItem:{selectItem:function(){zt(t.selection,this.selectionParams),Qt(t.selection,this.selectionParams)}}}),Ue(t.highlight,{})}},{key:"_applyClefsPolicies",value:function(e){var t=[On,"clefsDisplay",this];Ct([gt(t,vt([jn,"clefs",this])),qt(vt(t))],this.clefs)}},{key:"_applyGroupsPolicies",value:function(e){var t,n=[On,"groupsDisplay",this],r=[On,"groupById",this];Ct([gt(n,vt([jn,"groups",this])),qt(vt(n),Et),(t=vt(r),mt([Rt,"items"],[t,vt([Rt,"ids"])],(function(e,t){return n=e,t.map((function(e){return n[e]}));var n}))),Kt(vt(r))],this.groups)}},{key:"destroy",value:function(){ct(this.clefs),ct(this.groups)}},{key:"setClefs",value:function(e){this.inputs.clefs=e,this.clefs.selection.ids=e}},{key:"setGroups",value:function(e){this.inputs.groups=e,this.groups.selection.ids=Et(e)}},{key:"pickRandomChord",value:function(){var e,t,n;this.query=null!==(e=this.nextQuery)&&void 0!==e?e:vn(this.clefs.selection.ids,null!==(t=this.groups.selection.items)&&void 0!==t?t:[]),this.nextQuery=vn(this.clefs.selection.ids,null!==(n=this.groups.selection.items)&&void 0!==n?n:[]),this.query&&(this.props.clefStore.setClef(this.query.clef),this.props.voicingStore.setVoicing(this.query.voicing),this.props.voicingStore.setInversion(this.query.inversion))}}]),e}(),on=Object(qe.a)(rn.prototype,"query",[K.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=Object(qe.a)(rn.prototype,"nextQuery",[K.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=Object(qe.a)(rn.prototype,"inputs",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new jn}}),ln=Object(qe.a)(rn.prototype,"outputs",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new On}}),Object(qe.a)(rn.prototype,"setClefs",[K.b],Object.getOwnPropertyDescriptor(rn.prototype,"setClefs"),rn.prototype),Object(qe.a)(rn.prototype,"setGroups",[K.b],Object.getOwnPropertyDescriptor(rn.prototype,"setGroups"),rn.prototype),Object(qe.a)(rn.prototype,"pickRandomChord",[K.b],Object.getOwnPropertyDescriptor(rn.prototype,"pickRandomChord"),rn.prototype),rn),mn=[{id:"minor",name:"minor",voicings:[{id:"Min6+9",name:"Min6+9",chord:["flat3","fifth","ninth","thirteenth"],inversions:[!0,!0,!0,!0]},{id:"Min7+9",name:"Min7+9",chord:["flat3","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"\xf8+9",name:"\xf8+9",chord:["flat3","flat5","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"MinMaj+9",name:"MinMaj+9",chord:["flat3","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Min6",name:"Min6",chord:["flat3","fifth","thirteenth"],inversions:[!0,!0,!0]},{id:"Min7",name:"Min7",chord:["flat3","fifth","flat7"],inversions:[!0,!0,!0]},{id:"\xf8",name:"\xf8",chord:["flat3","flat5","flat7"],inversions:[!0,!0,!0]},{id:"Min",name:"Min",chord:["flat3","fifth"],inversions:[!0,!0]},{id:"MinMaj",name:"MinMaj",chord:["flat3","fifth","seventh"],inversions:[!0,!0,!0]}]},{id:"fourths",name:"fourths",voicings:[{id:"SoWhat",name:"SoWhat",chord:["root","fourth","flat7","flat3","fifth"],inversions:[!1,!0,!1,!1,!1,!1]}]},{id:"major",name:"major",voicings:[{id:"Maj6+9",name:"Maj6+9",chord:["third","sixth","ninth"],inversions:[!0,!0,!0]},{id:"Maj7+9",name:"Maj7+9",chord:["third","fifth","seventh","ninth"],inversions:[!0,!0,!0,!0]},{id:"Maj6",name:"Maj6",chord:["third","sixth"],inversions:[!0,!0]},{id:"Maj7",name:"Maj7",chord:["third","fifth","seventh"],inversions:[!0,!0,!0]},{id:"Maj",name:"Maj",chord:["third","fifth"],inversions:[!0,!0]}]},{id:"dominant",name:"dominant",voicings:[{id:"7+13",name:"7+13",chord:["third","flat7","thirteenth"]},{id:"7+9",name:"7+9",chord:["third","fifth","flat7","ninth"],inversions:[!0,!0,!0,!0]},{id:"7+b13",name:"7+b13",chord:["third","flat7","flat13"],inversions:[!0,!0,!0]},{id:"7+9+b13",name:"7+9+b13",chord:["third","flat7","ninth","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b5",name:"7+b5",chord:["third","flat5","flat7"],inversions:[!0,!0,!0]},{id:"7+b5+b13",name:"7+b5+b13",chord:["third","flat5","flat7","flat13"],inversions:[!0,!0,!0,!0]},{id:"7+b9",name:"7+b9",chord:["third","fifth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+13",name:"7+b9+13",chord:["third","thirteenth","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7+b9+b13",name:"7+b9+b13",chord:["third","flat13","flat7","flat9"],inversions:[!0,!0,!0,!0]},{id:"7",name:"7",chord:["third","fifth","flat7"],inversions:[!0,!0,!0]}]}],yn=function(e){var t=zn(),n=t.groupsStore,r=t.clefStore,i=t.voicingStore,o=t.preselectionStore,c=Pe(mn),a=Object(K.b)((function(){var e=new gn({groupsStore:n,clefStore:r,voicingStore:i,preselectionStore:o});return e.setClefs(k),e.setGroups(c),e}));return Object(d.jsx)(y,{createCtr:a,updateCtr:function(e){Object(K.j)((function(){return{}}),(function(e){}),{fireImmediately:!0})},destroyCtr:function(e){return e.destroy()},getDefaultProps:function(e){return{quizState:function(){return e},clefs:function(){return e.outputs.clefsDisplay},clefsSelection:function(){return e.clefs.selection},clefsHighlight:function(){return e.clefs.highlight},clef:function(){return e.clefs.highlight.item},groups:function(){return e.outputs.groupsDisplay},groupsSelection:function(){return e.groups.selection},groupsHighlight:function(){return e.groups.highlight},group:function(){return e.groups.highlight.item}}},children:e.children})},wn=Object(u.a)(),xn=Object(s.a)((function(e){return Object(d.jsx)(l.b,{history:wn,children:Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{path:"",children:Object(d.jsx)(yn,{children:Object(d.jsx)(Ne,{})})})})})}));function Sn(){return Object(d.jsx)("div",{className:"App w-screen",children:Object(d.jsx)("header",{className:"App__Header",children:Object(d.jsx)(xn,{})})})}var Cn,Mn,In=(sn=function(){function e(){Object(Re.a)(this,e),Object(De.a)(this,"groupById",un,this),Object(K.h)(this)}return Object(ze.a)(e,[{key:"loadGroups",value:function(){}}]),e}(),un=Object(qe.a)(sn.prototype,"groupById",[K.i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sn),kn=n(94),Pn=function e(){var t=this;Object(Re.a)(this,e),this.signal=new kn.Signal,this.clefLetter=void 0,this.isSharpening=void 0,this.isFlattening=void 0,this.setClefLetter=function(e){return t.clefLetter=e},this.setIsSharpening=function(e){return t.isSharpening=e},this.setIsFlattening=function(e){return t.isFlattening=e},this.reset=function(){t.clefLetter&&t.signal.dispatch({topic:"PreselectionStore.selectClef",details:{clefLetter:t.clefLetter,isSharpening:t.isSharpening,isFlattening:t.isFlattening}}),t.setIsFlattening(!1),t.setIsSharpening(!1),t.setClefLetter(void 0)},Object(K.h)(this,{clefLetter:K.i,isSharpening:K.i,isFlattening:K.i,setClefLetter:K.b,setIsSharpening:K.b,setIsFlattening:K.b,reset:K.b})},Fn=Me({id:"Chromatic",name:"Chromatic",chord:["root","flat9","ninth","flat3","third","fourth","flat5","fifth","flat6","sixth","flat7","seventh"]}),En=function(){function e(){var t=this;Object(Re.a)(this,e),this.clef="C",this.inversion=0,this.voicing=Fn,this.setInversion=function(e){t.inversion=Object(x.clamp)(t.inversionRange[0],t.inversionRange[1])(e)},this.setVoicing=function(e){t.voicing=e},Object(K.h)(this,{clef:K.i,inversion:K.i,voicing:K.i,chord:K.c,nrOfVoices:K.c,inversionRange:K.c,setInversion:K.b,setVoicing:K.b})}return Object(ze.a)(e,[{key:"inversionRange",get:function(){return bn(pn(this.voicing,this.clef,1))}},{key:"nrOfVoices",get:function(){return Object(x.size)(this.voicing.chord)}},{key:"chord",get:function(){return this.clef?dn(pn(this.voicing,this.clef,1),this.inversion):void 0}}]),e}(),Nn=function(){function e(){var t=this;Object(Re.a)(this,e),this.clefLetter="C",this.clefSharp=!1,this.clefFlat=!1,this.setClefLetter=function(e){t.clefLetter=e},this.setClefSharp=function(e){t.clefSharp=e,e&&(t.clefFlat=!1)},this.setClefFlat=function(e){t.clefFlat=e,e&&(t.clefSharp=!1)},Object(K.h)(this,{clefLetter:K.i,clefSharp:K.i,clefFlat:K.i,setClefLetter:K.b,setClefSharp:K.b,setClefFlat:K.b,clef:K.c})}return Object(ze.a)(e,[{key:"clef",get:function(){return this.clefLetter+(this.clefSharp?"#":this.clefFlat?"b":"")}},{key:"setClef",value:function(e){var t=e[0];this.setClefLetter(t);var n=e[1];this.setClefFlat("b"==n),this.setClefSharp("#"==n)}}]),e}(),Dn=new(Cn=function(){function e(){Object(Re.a)(this,e),Object(De.a)(this,"groupsStore",Mn,this),this.voicingStore=new En,this.clefStore=new Nn,this.preselectionStore=new Pn,Object(K.h)(this,{voicingStore:K.i,clefStore:K.i,preselectionStore:K.i}),this.groupsStore=new In,this.applyPolicies()}return Object(ze.a)(e,[{key:"applyPolicies",value:function(){var e;e=this,Object(K.j)((function(){return e.clefStore.clef}),(function(t){e.voicingStore.clef=t}),{fireImmediately:!0})}}]),e}(),Mn=Object(qe.a)(Cn.prototype,"groupsStore",[K.i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn),Rn=o.a.createContext(Dn),zn=function(){var e=o.a.useContext(Rn);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},qn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),o(e),c(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(Sn,{})}),document.getElementById("root")),qn()},71:function(e,t,n){}},[[188,1,2]]]);
//# sourceMappingURL=main.d48dde51.chunk.js.map